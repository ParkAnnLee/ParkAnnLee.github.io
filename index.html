<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Thoughts, Works, and Collection">
<meta property="og:type" content="website">
<meta property="og:title" content="Anpu&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Anpu&#39;s Blog">
<meta property="og:description" content="Thoughts, Works, and Collection">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anpu&#39;s Blog">
<meta name="twitter:description" content="Thoughts, Works, and Collection">






  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Anpu's Blog</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-134859175-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-134859175-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Anpu's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-works">

    
    
    
      
    

    

    <a href="/works/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Works</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/ANPULI" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2100/03/18/Contents/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2100/03/18/Contents/" class="post-title-link" itemprop="url">Contents</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2100-03-18 12:24:17" itemprop="dateCreated datePublished" datetime="2100-03-18T12:24:17-04:00">2100-03-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-31 12:08:37" itemprop="dateModified" datetime="2019-03-31T12:08:37-04:00">2019-03-31</time>
              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2100/03/18/Contents/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2100/03/18/Contents/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="computer-science">Computer Science</h1>
<h2 id="basic-algorithms">Basic Algorithms</h2>
<ol type="1">
<li><a href="/2019/01/27/Recursion/" title="Recursion">Recursion</a></li>
<li><a href="/2019/02/20/Dynamic-Programming/" title="Dynamic Programming">Dynamic Programming</a></li>
<li><a href="/2019/02/27/Word-Wrap-Problem/" title="Word Wrap Problem">Word Wrap Problem</a></li>
<li><a href="/2019/02/25/Largest-Common-Subsequence/" title="Largest Common Subsequence">Largest Common Subsequence</a></li>
<li><a href="/2019/03/06/Knapsack-Problem/" title="Knapsack Problem">Knapsack Problem</a></li>
<li><a href="/2019/03/25/Sorting/" title="Sorting">Sorting</a></li>
<li><a href="/2019/03/27/Multiplication/" title="Multiplication">Multiplication</a></li>
</ol>
<h2 id="database-systems">Database Systems</h2>
<ol type="1">
<li><a href="/2019/03/18/Database-Systems-Unit-2/" title="Database Systems Unit 2">Database Systems Unit 2</a></li>
<li><a href="/2019/03/19/Database-Systems-Unit-3/" title="The Relational Model: And From ER Diagrams to Relational Databases">The Relational Model: And From ER Diagrams to Relational Databases</a></li>
</ol>
<h2 id="computer-graphics">Computer Graphics</h2>
<ul>
<li><a href="../works" title="Works">See works for more</a></li>
</ul>
<h1 id="finance">Finance</h1>
<h2 id="equity-valuation">Equity Valuation</h2>
<p>Disclaimer: All articles here are credited to Professor Aswath Damodaran and can be found on his valuation class page. I don't own the materials.</p>
<ol type="1">
<li><a href="/2019/03/01/Discount-Rates/" title="Discount Rates">Discount Rates</a></li>
<li><a href="/2019/03/09/Estimating-Cash-Flows/" title="Estimating Cash Flows">Estimating Cash Flows</a></li>
<li><a href="/2019/03/11/Growth/" title="Growth">Growth</a></li>
<li><a href="/2019/03/30/Closure-in-Valuation/" title="Closure in Valuation">Closure in Valuation</a></li>
<li><a href="/2019/03/31/Loose-Ends/" title="Loose Ends">Loose Ends</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/31/Loose-Ends/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/31/Loose-Ends/" class="post-title-link" itemprop="url">Loose Ends</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-31 10:42:19 / Modified: 15:03:52" itemprop="dateCreated datePublished" datetime="2019-03-31T10:42:19-04:00">2019-03-31</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Equity-Valuation/" itemprop="url" rel="index"><span itemprop="name">Equity Valuation</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/31/Loose-Ends/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/31/Loose-Ends/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <img src="/2019/03/31/Loose-Ends/loose-end-1.png">
<h1 id="the-value-of-cash">The Value of Cash</h1>
<p>The simplest and most direct way of dealing with cash and marketable securities is to keep it out of the valuation - the cash flows should be before interest income from cash and securities, and the discount rate should not be contaminated by the inclusion of cash. (Use betas of the operating assets alone to estimate the cost of equity).</p>
<p>Once the operating assets have been valued, you should add back the value of cash and marketable securities.</p>
<p>In many equity valuations, the interest income from cash is included in the cashflows. The discount rate has to be adjusted then for the presence of cash. (The beta used will be weighted down by the cash holdings). Unless cash remains a fixed percentage of overall value over time, these valuations will tend to break down.</p>
<h2 id="an-exercise-in-cash-valuation">An Exercise in Cash Valuation</h2>
<table>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Company A</th>
<th style="text-align: center;">Company B</th>
<th style="text-align: center;">Company C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Enterprise Value</td>
<td style="text-align: center;">$1,000.00</td>
<td style="text-align: center;">$1,000.00</td>
<td style="text-align: center;">$1,000.00</td>
</tr>
<tr class="even">
<td>Cash</td>
<td style="text-align: center;">$100.00</td>
<td style="text-align: center;">$100.00</td>
<td style="text-align: center;">$100.00</td>
</tr>
<tr class="odd">
<td>Return on invested capital</td>
<td style="text-align: center;">10%</td>
<td style="text-align: center;">5%</td>
<td style="text-align: center;">22%</td>
</tr>
<tr class="even">
<td>Cost of capital</td>
<td style="text-align: center;">10%</td>
<td style="text-align: center;">10%</td>
<td style="text-align: center;">12%</td>
</tr>
<tr class="odd">
<td>Trades in</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">US</td>
<td style="text-align: center;">Argentina</td>
</tr>
</tbody>
</table>
<p>In which of these companies is cash most likely to be</p>
<ol type="1">
<li>A Neutral Asset (worth $100 million)</li>
<li>A Wasting Asset (worth less than $100 million)</li>
<li>A Potential Value Creator (worth &gt;$100 million)</li>
</ol>
<p>Neutral in company A<br>
Value destroying in company B<br>
Value adding in company C</p>
<p>What investors perceive or expect you to do with the cash will affect how they value it. If you are perceived as a management that makes value destroying investments (overpaying on acquisitions, for instance), cash will be discounted in your hands.</p>
<h2 id="should-you-ever-discount-cash-for-its-low-returns">Should you ever discount cash for its low returns</h2>
<p>There are some analysts who argue that companies with a lot of cash on their balance sheets should be penalized by having the excess cash discounted to reflect the fact that it earns a low return.</p>
<p>Excess cash is usually defined as holding cash that is greater than what the firm needs for operations. A low return is defined as a return lower than what the firm earns on its non-cash investments.</p>
<p>This is the wrong reason for discounting cash. If the cash is invested in riskless securities, it should earn a low rate of return. As long as the return is high enough, given the riskless nature of the investment, cash does not destroy value.</p>
<p>There is a right reason, though, that may apply to some companies… Managers can do stupid things with cash (overpriced acquisitions, pie-in-the-sky projects….) and you have to discount for this possibility.</p>
<h2 id="a-detour-closed-end-mutual-funds">A Detour: Closed End Mutual Funds</h2>
<p>Assume that you have a closed-end fund that invests in "average risk" stocks. Assume also that you expect the market (average risk investments) to make 11.5% annually over the long term. If the closed end fund underperforms the market by 0.50%, estimate the discount on the fund.</p>
<p>Estimated discount with no growth in fund = .005/.115 = .0435 or 4.35%</p>
<p>If you assume a growth rate of 3% in the fund in perpetuity,<br>
.005(1.03)/(.115-.03) = 6.06%</p>
<p>To see the intuition, consider investing 100 in this fund and earning 0.5% less than you should be making in perpetuity.</p>
<h1 id="dealing-with-holdings-in-other-firms">Dealing with Holdings in Other firms</h1>
<p>Holdings in other firms can be categorized into</p>
<ul>
<li><strong>Minority passive</strong> holdings, in which case only the <strong>dividend</strong> from the holdings is shown in the <strong>balance sheet</strong></li>
<li><strong>Minority active</strong> holdings, in which case the share of <strong>equity income</strong> is shown in the <strong>income statements</strong></li>
<li><strong>Majority active</strong> holdings, in which case the financial statements are <strong>consolidated</strong>.</li>
</ul>
<h2 id="an-exercise-in-valuing-cross-holdings">An Exercise in Valuing Cross Holdings</h2>
<p>Assume that you have valued Company A using consolidated financials for <code>$1 billion</code> (using FCFF and cost of capital) and that the firm has <code>$200 million</code> in debt. How much is the equity in Company A worth?</p>
<ul>
<li><span class="math inline">\(1000 - 200 = 800\)</span></li>
</ul>
<p>Now assume that you are told that Company A owns 10% of Company B and that the holdings are accounted for as passive holdings. If the market cap of company B is <code>$500 million</code>, how much is the equity in Company A worth?</p>
<ul>
<li><span class="math inline">\((1000-200) + 0.1\times500 = 850\)</span></li>
</ul>
<table>
<thead>
<tr class="header">
<th>⚠️DANGER: The market might be misvaluing company B.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Now add on the assumption that Company A owns 60% of Company C and that the holdings are fully consolidated. The minority interest in company C is recorded at <code>$40 million</code> in Company A’s balance sheet. How much is the equity in Company A worth?</p>
<ul>
<li><span class="math inline">\((1000-200) + 0.1\times500 - 40 = 810\)</span></li>
</ul>
<table>
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th>⚠️DANGER: The minority interest reflects the <strong>book value</strong> in stead of the market value.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Building on the previous example, assume that</p>
<ol type="1">
<li>You have valued equity in company B at <code>$250 million</code> (which is half the market’s estimate of value currently)</li>
<li>Company A is a steel company and that company C is a chemical company.</li>
<li>You have valued the equity in company C at <code>$250 million</code>.</li>
</ol>
<p>Estimate the value of equity in company A.</p>
<ul>
<li><span class="math inline">\(800 + 0.1\times250 - 0.4\times250 = 725\)</span></li>
</ul>
<h2 id="steps-to-get-cross-holdings-right">Steps to get cross holdings right</h2>
<h3 id="step-1">Step 1</h3>
<p>Value the parent company without any cross holdings. This will require using unconsolidated financial statements rather than consolidated ones.</p>
<h3 id="step-2">Step 2</h3>
<p>Value each of the cross holdings individually.</p>
<h3 id="step-3">Step 3</h3>
<p>The final value of the equity in the parent company with <span class="math inline">\(N\)</span> cross holdings will be:</p>
<p><span class="math inline">\(\text{Value of unconsolidated parent company} - \text{Debt of unconsolidated parent company} + \\ \sum_{i=1}^N \text{\% owned of}\ \text{Company}_j \times (\text{Value of}\ \text{Company}_j - \text{Debt of}\ \text{Company}_j)\)</span></p>
<p>which is simply equity of parent company plus owned equity of subsidiaries</p>
<p>The problems in doing this are often practical:</p>
<ol type="1">
<li>Firms may provide only consolidated financial statements</li>
<li>Firms may have dozens of cross holdings</li>
<li>Not enough information may be available to value the subsidiary companies</li>
</ol>
<p>If that occurs, you have to make an approximation of the value of the cross holdings.</p>
<h2 id="valuing-yahoo-as-the-sum-of-its-intrinsic-pieces">Valuing Yahoo as the sum of its intrinsic pieces</h2>
<img src="/2019/03/31/Loose-Ends/loose-end-1.png">
<h2 id="if-you-have-to-settle-for-an-approximation">If you have to settle for an approximation</h2>
<p>For <strong>majority holdings</strong>, with full consolidation, convert the minority interest from book value to market value by applying a price to book ratio (based upon the sector average for the subsidiary) to the minority interest.</p>
<ul>
<li>Estimated market value of minority interest = Minority interest on balance sheet * Price to Book ratio for sector (of subsidiary)</li>
<li><strong>Subtract</strong> this from the estimated value of the consolidated firm to get to value of the equity in the parent company.</li>
</ul>
<p>For <strong>minority holdings</strong> in other companies, convert the book value of these holdings (which are reported on the balance sheet) into market value by multiplying by the price to book ratio of the sector(s). <strong>Add</strong> this value on to the value of the operating assets to arrive at total firm value.</p>
<h2 id="yahoo-a-pricing-game">Yahoo: A pricing game</h2>
<img src="/2019/03/31/Loose-Ends/loose-end-3.png">
<p>While estimating the intrinsic value of each cross holding is the more consistent approach to dealing with cross holdings in intrinsic valuation, it may sometimes be impractical (especially if you have lots of holdings or insufficient information). You then have to price these holdings rather than valuing them.</p>
<h1 id="other-assets-that-have-not-been-counted-yet">Other Assets that have not been counted yet</h1>
<p>Assets that you should not be counting (or adding on to DCF values)</p>
<ul>
<li>If an asset is contributing to your cashflows, you cannot count the market value of the asset in your value. Thus, you should not be counting the real estate on which your offices stand, the PP&amp;E representing your factories and other productive assets, any values attached to brand names or customer lists and definitely no non-assets (such as goodwill).</li>
</ul>
<p>Assets that you can count (or add on to your DCF valuation)</p>
<ul>
<li><strong>Overfunded pension plans</strong>: If you have a defined benefit plan and your assets exceed your expected liabilities, you could consider the over funding with two caveats:
<ul>
<li>Collective bargaining agreements may prevent you from laying claim to these excess assets.</li>
<li>There are tax consequences. Often, withdrawals from pension plans get taxed at much higher rates.</li>
</ul></li>
<li><strong>Unutilized assets</strong>: If you have assets or property that are not being utilized to generate cash flows (vacant land, for example), you have not valued them yet. You can assess a market value for these assets and add them on to the value of the firm.</li>
</ul>
<p>If assets are truly unutilized and have value, you should add them on to the DCF value. Examples would be vacant land, valuable artwork etc… Be careful not to double count. For instance, you cannot value a retail company and then add on the value of the real estate owned by the company to the DCF value.</p>
<p>As for overfunded pension plans, it is safer to reflect the overfunding in the cashflows than it is to add on the entire overfunding on to value today.</p>
<h1 id="a-discount-for-complexity-an-experiment">A Discount for Complexity: An Experiment</h1>
<table>
<thead>
<tr class="header">
<th></th>
<th>Company A</th>
<th>Company B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Operating Income</td>
<td>$ 1 billion</td>
<td>$ 1 billion</td>
</tr>
<tr class="even">
<td>Tax rate</td>
<td>40%</td>
<td>40%</td>
</tr>
<tr class="odd">
<td>ROIC</td>
<td>10%</td>
<td>10%</td>
</tr>
<tr class="even">
<td>Expected Growth</td>
<td>5%</td>
<td>5%</td>
</tr>
<tr class="odd">
<td>Cost of capital</td>
<td>8%</td>
<td>8%</td>
</tr>
<tr class="even">
<td>Business Mix</td>
<td>Single</td>
<td>Multiple</td>
</tr>
<tr class="odd">
<td>Holdings</td>
<td>Simple</td>
<td>Complex</td>
</tr>
<tr class="even">
<td>Accounting</td>
<td>Transparent</td>
<td>Opaque</td>
</tr>
</tbody>
</table>
<p><strong>Q:</strong> Which firm would you value more highly?<br>
<strong>A:</strong> You would expect the complicated company to trade at a discount because what you don’t know (or what managers have not told you) is more likely to contain bad news than good news….</p>
<h2 id="measuring-complexity-volume-of-data-in-financial-statements">Measuring Complexity: Volume of Data in Financial Statements</h2>
<img src="/2019/03/31/Loose-Ends/loose-end-4.png">
<h2 id="measuring-complexity-a-complexity-score">Measuring Complexity: A Complexity Score</h2>
<img src="/2019/03/31/Loose-Ends/loose-end-5.png">
<h2 id="dealing-with-complexity">Dealing with Complexity</h2>
<h3 id="in-discounted-cashflow-valuation">In Discounted Cashflow Valuation</h3>
<ul>
<li>The Aggressive Analyst: Trust the firm to tell the truth and value the firm based upon the firm’s statements about their value.</li>
<li>The Conservative Analyst: Don’t value what you cannot see.</li>
<li>The Compromise: Adjust the value for complexity
<ul>
<li>Adjust cash flows for complexity</li>
<li>Adjust the discount rate for complexity</li>
<li>Adjust the expected growth rate/ length of growth period</li>
<li>Value the firm and then discount value for complexity</li>
</ul></li>
</ul>
<h3 id="in-relative-valuation">In relative valuation</h3>
<ul>
<li>In a relative valuation, you may be able to assess the price that the market is charging for complexity:</li>
<li>With the hundred largest market cap firms, for instance:<br>
PBV = 0.65 + 15.31 ROE – 0.55 Beta + 3.04 Expected growth rate – 0.003 # Pages in 10K</li>
</ul>
<h1 id="be-circumspect-about-defining-debt-for-cost-of-capital-purposes">Be circumspect about defining debt for cost of capital purposes…</h1>
<p>General Rule: Debt generally has the following characteristics:</p>
<ul>
<li>Commitment to make fixed payments in the future</li>
<li>The fixed payments are tax deductible</li>
<li>Failure to make the payments can lead to either default or loss of control of the firm to the party to whom payments are due.</li>
</ul>
<p>Defined as such, debt should include</p>
<ul>
<li>All interest bearing liabilities, short term as well as long term</li>
<li>All leases, operating as well as capital</li>
</ul>
<p>Debt should not include</p>
<ul>
<li>Accounts payable or supplier credit</li>
</ul>
<p>Be wary of your conservative impulses which will tell you to count everything as debt. That will push up the debt ratio and lead you to understate your cost of capital.</p>
<h2 id="book-value-or-market-value">Book Value or Market Value</h2>
<p>You are valuing a distressed telecom company and have arrived at an estimate of <code>$1 billion</code> for the enterprise value (using a discounted cash flow valuation). The company has <code>$1 billion</code> in face value of debt outstanding but the debt is trading at 50% of face value (because of the distress). What is the value of the equity to you as an investor?</p>
<ul>
<li>The equity is worth <code>$500 million</code> (EV minus Market Value of Debt)</li>
<li>The equity is worth nothing (EV minus Face Value of Debt)</li>
</ul>
<p>Would your answer be different if you were told that the liquidation value of the assets of the firm today is <code>$1.2 billion</code> and that you were planning to liquidate the firm today?</p>
<p>If you are valuing a firm as a going concern, you are implicitly assuming that the firm will make its interest payments over time. It therefore makes sense to subtract out the market value of debt (which is the present value of the promised payments).. This will yield an estimated value for the equity of <code>$500 million</code>.</p>
<p>If you liquidate, you will have to pay the face value of the debt, yielding a liquidation value for the equity of <code>$200 million</code>.</p>
<p>You will continue to run the firm as a going concern and not liquidate, if you were the equity investor in the firm. If you were the lender, you may prefer liquidation.</p>
<h2 id="but-you-should-consider-other-potential-liabilities-when-getting-to-equity-value">But you should consider other potential liabilities when getting to equity value</h2>
<p>If you have under funded pension fund or health care plans, you should consider the under funding at this stage in getting to the value of equity.</p>
<ul>
<li>If you do so, you should not double count by also including a cash flow line item reflecting cash you would need to set aside to meet the unfunded obligation.</li>
<li>You should not be counting these items as debt in your cost of capital calculations.</li>
</ul>
<p>If you have contingent liabilities - for example, a potential liability from a lawsuit that has not been decided - you should consider the expected value of these contingent liabilities</p>
<ul>
<li>Value of contingent liability = Probability that the liability will occur * Expected value of liability</li>
</ul>
<h1 id="equity-to-employees-effect-on-value">Equity to Employees: Effect on Value</h1>
<p>In recent years, firms have turned to giving employees (and especially top managers) equity option or restricted stock packages as part of compensation. If they are options, they usually are long term and on volatile stocks. If restricted stock, the restrictions are usually on trading.</p>
<p>These equity compensation packages are clearly valuable and the question becomes how best to deal with them in valuation.</p>
<p>Two key issues with employee options:</p>
<ul>
<li>How do options or restricted stock granted in the past affect equity value per share today?</li>
<li>How do expected grants of either in the future affect equity value today?</li>
</ul>
<h2 id="the-easier-problem-restricted-stock-grants">The Easier Problem: Restricted Stock Grants</h2>
<p>When employee compensation takes the form of restricted stock grants, the solution is relatively simple.</p>
<p>To account for restricted stock grants in the past, make sure that you count the restricted stock that have already been granted in shares outstanding today. That will reduce your value per share.</p>
<p>To account for expected stock grants in the future, estimate the value of these grants as a percent of revenue and forecast that as expense as part of compensation expenses. That will reduce future income and cash flows.</p>
<h2 id="the-bigger-challenge-employee-options">The Bigger Challenge: Employee Options</h2>
<p>It is true that options can increase the number of shares outstanding but dilution per se is not the problem.</p>
<p>Options affect equity value at exercise because</p>
<ul>
<li>Shares are issued at below the prevailing market price. Options get exercised only when they are in the money.</li>
<li>Alternatively, the company can use cashflows that would have been available to equity investors to buy back shares which are then used to meet option exercise. The lower cashflows reduce equity value.</li>
</ul>
<p>Options affect equity value before exercise because we have to build in the expectation that there is a probability of and a cost to exercise.</p>
<p>It is not the dilution per se that causes the loss of value but the dilution at below market prices. When shares are issued at below market prices, the remaining equity investors in the firm will lose some value.</p>
<p>The arguments that options do not affect value per share are absurd:</p>
<ol type="1">
<li>Options are not cash expenses (If we use this rationale, companies can use stock or options to pay for everything and claim revenues as earnings)</li>
<li>We do not know whether the options will be exercised and become shares. (That is true but we also do not know whether there will be revenues or earnings next year, whether the managers will commit felonies and whether the universe will still be standing. That does not stop us from forecasting out expected revenues and earnings next year)</li>
<li>Options cannot be really valued. The option pricing models are only model. (True, but I would wager that option pricing models do a better job valuing options than accountants do in estimating earnings for the most recent financial year)</li>
<li>If options are treated as expenses, firms will have to stop issuing them. (Good… Boards will finally recognize how much they are giving away…and for some firms, it will still make sense to issue options)</li>
</ol>
<h2 id="a-simple-example">A simple example</h2>
<p>XYZ company has <code>$100 million</code> in free cashflows to the firm, growing 3% a year in perpetuity and a cost of capital of 8%. It has 100 million shares outstanding and <code>$1 billion</code> in debt. Its value can be written as follows:</p>
<table>
<thead>
<tr class="header">
<th>Value of firm = 100 / (.08-.03)</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Debt</td>
<td>1000</td>
</tr>
<tr class="even">
<td>Equity</td>
<td>1000</td>
</tr>
<tr class="odd">
<td>Value per share</td>
<td>= 1000/100 = $10</td>
</tr>
</tbody>
</table>
<p>XYZ decides to give 10 million options at the money (with a strike price of <code>$10</code>) to its CEO. What effect will this have on the value of equity per share?</p>
<ul>
<li>None. The options are not in-the-money.</li>
<li>Decrease by 10%, since the number of shares could increase by 10 million</li>
<li>Decrease by less than 10%. The options will bring in cash into the firm but they have time value.</li>
</ul>
<p>The options may be priced at par, but they are not worthless. The right answer is c. Answer a ignores the time premium on options and answer b ignores the exercise proceeds from the options.</p>
<h2 id="i.-the-diluted-share-count-approach">I. The Diluted Share Count Approach</h2>
<p>The simplest way of dealing with options is to try to adjust the denominator for shares that will become outstanding if the options get exercised. In the example cited, this would imply the following:</p>
<table>
<thead>
<tr class="header">
<th>Value of firm = 100 / (.08-.03)</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Debt</td>
<td>1000</td>
</tr>
<tr class="even">
<td>Equity</td>
<td>1000</td>
</tr>
<tr class="odd">
<td>Number of diluted shares</td>
<td>110</td>
</tr>
<tr class="even">
<td>Value per share</td>
<td>= 1000/110 = $9.09</td>
</tr>
</tbody>
</table>
<p>The diluted approach fails to consider that exercising options will bring in cash into the firm. Consequently, they will overestimate the impact of options and understate the value of equity per share.</p>
<h2 id="ii.-the-treasury-stock-approach">II. The Treasury Stock Approach</h2>
<p>The treasury stock approach adds the proceeds from the exercise of options to the value of the equity before dividing by the diluted number of shares outstanding.</p>
<p>In the example cited, this would imply the following:</p>
<table>
<thead>
<tr class="header">
<th>Value of firm = 100 / (.08-.03)</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Debt</td>
<td>1000</td>
</tr>
<tr class="even">
<td>Equity</td>
<td>1000</td>
</tr>
<tr class="odd">
<td>Number of diluted shares</td>
<td>110</td>
</tr>
<tr class="even">
<td>Proceeds from option exercise</td>
<td>10 * 10 = 100</td>
</tr>
<tr class="odd">
<td>Value per share</td>
<td>= 1100/110 = $10</td>
</tr>
</tbody>
</table>
<p>The treasury stock approach fails to consider the time premium on the options. The treasury stock approach also has problems with out-of-the-money options. If considered, they can increase the value of equity per share. If ignored, they are treated as non-existent.</p>
<h2 id="iii.-option-value-drag">III. Option Value Drag</h2>
<h3 id="step-1-1">Step 1</h3>
<p>Value the firm, using discounted cash flow or other valuation models.</p>
<h3 id="step-2-1">Step 2</h3>
<p>Subtract out the value of the outstanding debt to arrive at the value of equity. Alternatively, skip step 1 and estimate the of equity directly.</p>
<h3 id="step-3-1">Step 3</h3>
<p>Subtract out the market value (or estimated market value) of other equity claims:</p>
<ul>
<li>Value of Warrants = Market Price per Warrant * Number of Warrants : Alternatively estimate the value using option pricing model</li>
<li>Value of Conversion Option = Market Value of Convertible Bonds - Value of Straight Debt Portion of Convertible Bonds</li>
<li>Value of employee Options: Value using the average exercise price and maturity.</li>
</ul>
<h3 id="step-4">Step 4</h3>
<p>Divide the remaining value of equity by the number of shares outstanding to get value per share.</p>
<h2 id="valuing-equity-options-issued-by-firms-the-dilution-problem">Valuing Equity Options issued by firms… The Dilution Problem</h2>
<p>Option pricing models can be used to value employee options with four caveats –</p>
<ol type="1">
<li>Employee options are long term, making the assumptions about constant variance and constant dividend yields much shakier,</li>
<li>Employee options result in stock dilution, and</li>
<li>Employee options are often exercised before expiration, making it dangerous to use European option pricing models.</li>
<li>Employee options cannot be exercised until the employee is vested.</li>
</ol>
<p>These problems can be partially alleviated by using an option pricing model, allowing for shifts in variance and early exercise, and factoring in the dilution effect. The resulting value can be adjusted for the probability that the employee will not be vested.</p>
<p>There is one more issue to consider. The option pricing models all require the current stock price as an input. In a valuation, however, you can arrive at a value per share that is very different from the stock price. To be internally consistent, should you use the estimated value per share in valuing the options? It may be more consistent, but it is not realistic insofar as the options can be exercised today at the prevailing market price. Unless there are significant restrictions on the options being exercised in the near future, it is therefore often better to use the market price.</p>
<h2 id="valuing-employee-options">Valuing Employee Options</h2>
<p>To value employee options, you need the following inputs into the option valuation model:</p>
<ul>
<li>Stock Price = <code>$10</code>, Adjusted for dilution = <code>$9.58</code></li>
<li>Strike Price = <code>$10</code></li>
<li>Maturity = 10 years (Can reduce to reflect early exercise)</li>
<li>Standard deviation in stock price = 40%</li>
<li>Riskless Rate = 4%</li>
</ul>
<p>Using a dilution-adjusted Black Scholes model, we arrive at the following inputs:</p>
<ul>
<li>N (d1) = 0.8199</li>
<li>N (d2) = 0.3624</li>
</ul>
<p>Value per call = <span class="math inline">\(9.58 (0.8199) - 10 e^{-(0.04) (10)}(0.3624) = 5.42\)</span></p>
<p>This is an at-the-money option but this is before you consider dilution. In other words, if the CEO announced today that she planned to exercise her options, the stock price will probably fall. Note that the options have zero exercise value but are still worth a lot. In fact, you can think of the option value as a probability adjusted value of the options being exercised in the future.</p>
<h2 id="value-of-equity-to-value-of-equity-per-share">Value of Equity to Value of Equity per share</h2>
<p>Using the value per call of <code>$5.42</code>, we can now estimate the value of equity per share after the option grant:</p>
<table>
<thead>
<tr class="header">
<th>Value of firm = 100 / (.08-.03)</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Debt</td>
<td>1000</td>
</tr>
<tr class="even">
<td>=Equity</td>
<td>1000</td>
</tr>
<tr class="odd">
<td>Value of options granted</td>
<td>$54.2</td>
</tr>
<tr class="even">
<td>= Value of Equity in stock</td>
<td>$945.8</td>
</tr>
<tr class="odd">
<td>/ Number of shares outstanding</td>
<td>/100</td>
</tr>
<tr class="even">
<td>Value per share</td>
<td>= $9.46</td>
</tr>
</tbody>
</table>
<p>Note that this approach yields a higher value than the diluted share count approach (which ignores exercise proceeds) and a lower value than the treasury stock approach (which ignores the time premium on the options)</p>
<h2 id="to-tax-adjust-or-not-to-tax-adjust">To tax adjust or not to tax adjust</h2>
<p>In the example above, we have assumed that the options do not provide any tax advantages. To the extent that the exercise of the options creates tax advantages, the actual cost of the options will be lower by the tax savings.</p>
<p>One simple adjustment is to multiply the value of the options by (1- tax rate) to get an after-tax option cost.</p>
<h2 id="option-grants-in-the-future">Option grants in the future</h2>
<p>Assume now that this firm intends to continue granting options each year to its top management as part of compensation. These expected option grants will also affect value.</p>
<p>The simplest mechanism for bringing in future option grants into the analysis is to do the following:</p>
<ul>
<li>Estimate the value of options granted each year over the last few years as a percent of revenues.</li>
<li>Forecast out the value of option grants as a percent of revenues into future years, allowing for the fact that as revenues get larger, option grants as a percent of revenues will become smaller.</li>
<li>Consider this line item as part of operating expenses each year. This will reduce the operating margin and cashflow each year.</li>
</ul>
<h2 id="when-options-affect-equity-value-per-share-the-most">When options affect equity value per share the most</h2>
<p>Option grants affect value more</p>
<ul>
<li>The lower the strike price is set relative to the stock price</li>
<li>The longer the term to maturity of the option</li>
<li>The more volatile the stock price</li>
</ul>
<p>The effect on value will be magnified if companies are allowed to revisit option grants and reset the exercise price if the stock price moves down.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/30/Closure-in-Valuation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/30/Closure-in-Valuation/" class="post-title-link" itemprop="url">Closure in Valuation</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-30 18:57:21 / Modified: 19:48:58" itemprop="dateCreated datePublished" datetime="2019-03-30T18:57:21-04:00">2019-03-30</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Equity-Valuation/" itemprop="url" rel="index"><span itemprop="name">Equity Valuation</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/30/Closure-in-Valuation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/30/Closure-in-Valuation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="getting-closure-in-valuation">Getting Closure in Valuation</h1>
<p>A publicly traded firm potentially has an infinite life. The value is therefore the present value of cash flows forever.</p>
<p><span class="math display">\[Value = \sum_{t=1}^\infty \frac{CF_t}{(1+r)^t}\]</span></p>
<p>Since we cannot estimate cash flows forever, we estimate cash flows for a “growth period” and then estimate a terminal value, to capture the value at the end of the period:</p>
<p><span class="math display">\[Value = \sum_{t=1}^N \frac{CF_t}{(1+r)^t} + \frac{Terminal\ Value}{(1+r)^N}\]</span></p>
<h1 id="ways-of-estimating-terminal-value">Ways of Estimating Terminal Value</h1>
<img src="/2019/03/30/Closure-in-Valuation/closure_1.png">
<h1 id="obey-the-growth-cap">Obey the Growth Cap</h1>
<p>When a firm’s cash flows grow at a “constant” rate forever, the present value of those cash flows can be written as:</p>
<p><span class="math inline">\(\text{Value} = \frac{\text{Expected Cash Flow Next Period}}{r - g}\)</span></p>
<p>where,</p>
<ul>
<li>r = Discount rate (Cost of Equity or Cost of Capital)</li>
<li>g = Expected growth rate</li>
</ul>
<p>The stable growth rate cannot exceed the growth rate of the economy but it can be set lower.</p>
<p>If you assume that the economy is composed of high growth and stable growth firms, the growth rate of the latter will probably be lower than the growth rate of the economy.</p>
<p>The stable growth rate can be negative. The terminal value will be lower and you are assuming that your firm will disappear over time.</p>
<p>If you use nominal cashflows and discount rates, the growth rate should be nominal in the currency in which the valuation is denominated.</p>
<p>One simple proxy for the nominal growth rate of the economy is the riskfree rate.</p>
<h2 id="risk-free-rates-and-nominal-gdp-growth">Risk free Rates and Nominal GDP Growth</h2>
<ul>
<li><strong>Risk free Rate</strong> = Expected Inflation + Expected Real Interest Rate<br>
The real interest rate is what borrowers agree to return to lenders in real goods/services.</li>
<li><strong>Nominal GDP Growth</strong> = Expected Inflation + Expected Real Growth<br>
The real growth rate in the economy measures the expected growth in the production of goods and services.</li>
</ul>
<p>The argument for Risk free rate = Nominal GDP growth</p>
<ol type="1">
<li>In the long term, the real growth rate <strong><em>cannot be lower</em></strong> than the real interest rate, since the growth in goods/services has to be enough to cover the promised rate.</li>
<li>In the long term, the real growth rate <strong><em>can be higher</em></strong> than the real interest rate, to compensate risk taking. However, as economies mature, the difference should get smaller and since there will be growth companies in the economy, it is prudent to assume that the extra growth comes from these companies.</li>
</ol>
<table style="width:100%;">
<colgroup>
<col style="width: 8%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 21%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Period</th>
<th>10-Year T.Bond Rate</th>
<th>Inflation Rate</th>
<th>Real GDP Growth</th>
<th>Nominal GDP growth rate</th>
<th>Nominal GDP - T.Bond Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1954-2015</td>
<td>5.93%</td>
<td>3.61%</td>
<td>3.06%</td>
<td>6.67%</td>
<td>0.74%</td>
</tr>
<tr class="even">
<td>1954-1980</td>
<td>5.83%</td>
<td>4.49%</td>
<td>3.50%</td>
<td>7.98%</td>
<td>2.15%</td>
</tr>
<tr class="odd">
<td>1981-2008</td>
<td>6.88%</td>
<td>3.26%</td>
<td>3.04%</td>
<td>6.30%</td>
<td>-0.58%</td>
</tr>
<tr class="even">
<td>2009-2015</td>
<td>2.57%</td>
<td>1.66%</td>
<td>1.47%</td>
<td>3.14%</td>
<td>0.57%</td>
</tr>
</tbody>
</table>
<h2 id="a-practical-reason-for-using-the-risk-free-rate-cap-preserve-consistency">A Practical Reason for using the Risk free Rate Cap – Preserve Consistency</h2>
<p>You are implicitly making assumptions about nominal growth in the economy, with your risk free rate. Thus, with a low risk free rate, you are assuming low nominal growth in the economy (with low inflation and low real growth) and with a high risk free rate, a high nominal growth rate in the economy.</p>
<p>If you make an explicit assumption about nominal growth in cash flows that is at odds with your implicit growth assumption in the denominator, you are being inconsistent and bias your valuations:</p>
<ul>
<li>If you assume high nominal growth in the economy, with a low risk free rate, you will over value businesses.</li>
<li>If you assume low nominal growth rate in the economy, with a high risk free rate, you will under value businesses.</li>
</ul>
<h1 id="dont-wait-too-long">Don’t wait too long</h1>
<p>Assume that you are valuing a young, high growth firm with great potential, just after its initial public offering. How long would you set your high growth period?</p>
<ol type="1">
<li>&lt; 5 years</li>
<li>5 years</li>
<li><strong>10 years</strong></li>
<li>&gt;10 years</li>
</ol>
<h2 id="and-tie-to-competitive-advantages">And tie to competitive advantages</h2>
<p>While analysts routinely assume very long high growth periods (with substantial excess returns during the periods), the evidence suggests that they are much too optimistic. Most growth firms have difficulty sustaining their growth for long periods, especially while earning excess returns.</p>
<p>Recapping a key lesson about growth, it is not growth per se that creates value but growth with excess returns. For growth firms to continue to generate value creating growth, they have to be able to keep the competition at bay.</p>
<ul>
<li>Proposition 1: The stronger and more sustainable the competitive advantages, the longer a growth company can sustain “value creating” growth.</li>
<li>Proposition 2: Growth companies with strong and sustainable competitive advantages are rare.</li>
</ul>
<h3 id="notes-by-prof.-damodaran">Notes by Prof. Damodaran</h3>
<p>Firms that grow for longer than 5 years are more the exception rather than the rule. We may be routinely over valuing growth companies as a consequence.</p>
<p>As a consequence, I use only three growth periods in my DCF valuations:</p>
<ol type="1">
<li>Zero years, for firms that are already large and mature firms (Firms like Toyota and Exxon Mobil)</li>
<li>5 years for firms that still retain moderate growth potential or significant competitive advantages.</li>
<li>10 years for high growth firms.</li>
</ol>
<p>You do not want to value your firm to be the exception… That is asking for trouble..</p>
<h1 id="dont-forget-that-growth-has-to-be-earned">Don’t forget that growth has to be earned</h1>
<p>In the section on expected growth, we laid out the fundamental equation for growth:</p>
<p><span class="math inline">\(\text{Growth Rate = Reinvestment Rate * Return on invested capital + Growth Rate from improved efficiency}\)</span></p>
<p>In stable growth, you cannot count on efficiency delivering growth and you have to reinvest to deliver the growth rate that you have forecast.</p>
<p>Consequently, your reinvestment rate in stable growth will be a function of your stable growth rate and what you believe the firm will earn as a return on capital in perpetuity:</p>
<p>Reinvestment Rate = Stable growth rate/ Stable period ROC = g/ ROC</p>
<p>Your terminal value equation can then be rewritten as:</p>
<p><span class="math inline">\(\text{Terminal Value in year n} = \frac{EBIT_{n+1}(1−t)(1−\frac{g}{ROC})}{\text{Cost of Capital}−g}\)</span></p>
<h2 id="the-big-assumption">The big assumption</h2>
<p>Terminal value for a firm with expected after-tax operating income of <code>$100</code> million in year n+1 and a cost of capital of 10%.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>Return</th>
<th>on</th>
<th>capital</th>
<th>in</th>
<th>perpetuity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td>6%</td>
<td>8%</td>
<td>10%</td>
<td>12%</td>
<td>14%</td>
</tr>
<tr class="even">
<td>Growth</td>
<td>0.00%</td>
<td>$1,000</td>
<td>$1,000</td>
<td>$1,000</td>
<td>$1,000</td>
<td>$1,000</td>
</tr>
<tr class="odd">
<td></td>
<td>0.50%</td>
<td>$965</td>
<td>$987</td>
<td>$1,000</td>
<td>$1,009</td>
<td>$1,015</td>
</tr>
<tr class="even">
<td></td>
<td>1.00%</td>
<td>$926</td>
<td>$972</td>
<td>$1,000</td>
<td>$1,019</td>
<td>$1,032</td>
</tr>
<tr class="odd">
<td>rate</td>
<td>1.50%</td>
<td>$882</td>
<td>$956</td>
<td>$1,000</td>
<td>$1,029</td>
<td>$1,050</td>
</tr>
<tr class="even">
<td></td>
<td>2.00%</td>
<td>$833</td>
<td>$938</td>
<td>$1,000</td>
<td>$1,042</td>
<td>$1,071</td>
</tr>
<tr class="odd">
<td></td>
<td>2.50%</td>
<td>$778</td>
<td>$917</td>
<td>$1,000</td>
<td>$1,056</td>
<td>$1,095</td>
</tr>
<tr class="even">
<td>forever</td>
<td>3.00%</td>
<td>$714</td>
<td>$893</td>
<td>$1,000</td>
<td>$1,071</td>
<td>$1,122</td>
</tr>
</tbody>
</table>
<p>Note that when the return on capital is equal to the cost of capital, the terminal value is invariant to growth. If it is set above the cost of capital, terminal value increases with growth and if set below, it decreases. The big assumption in your terminal value calculation in the one you make about excess returns in perpetuity, not the growth rate.</p>
<h2 id="excess-returns-to-zero">Excess Returns to Zero?</h2>
<p>There are some (McKinsey, for instance) who argue that the return on capital should always be equal to cost of capital in stable growth.<br>
But excess returns seem to persist for very long time periods.</p>
<p>There are some DCF practitioners who argue that the only excess return consistent with being a mature firm is zero. While that may make logical sense, it will then require you to forecast cash flows until excess returns become zero (rather than until the growth rate becomes stable).</p>
<p>In reality, firms that have earned excess returns in the past seem to have more success in holding on to excess returns. In other words, an assessment of strategic advantages and barriers to entry may be more relevant to good valuation than the focus on earnings growth.</p>
<p>Bottom line: If you adopt growth periods of 5 or 10 years, there are some firms with exceptional and sustainable competitive advantages that can sustain excess returns for far longer. For these firms, it is prudent to let the excess returns be positive in perpetuity (i.e., let the ROC in stable growth exceed the cost of capital). However, those excess returns should be moderate (my rule of thumb is to not let them exceed 2-3%.</p>
<h2 id="and-dont-fall-for-sleight-of-hand">And don’t fall for sleight of hand…</h2>
<p>A typical assumption in many DCF valuations, when it comes to stable growth, is that capital expenditures offset depreciation and there are no working capital needs. Stable growth firms, we are told, just have to make maintenance cap ex (replacing existing assets ) to deliver growth. If you make this assumption, what expected growth rate can you use in your terminal value computation?</p>
<p>What if the stable growth rate = inflation rate? Is it okay to make this assumption then?</p>
<p>The only growth rate that is consistent with this assumption is zero. Even if you set the growth rate = inflation rate, replacing existing assets will cost you more than the depreciation on those assets. Hence you will need to follow the equation on the last page to get to a reinvestment rate.</p>
<h1 id="be-internally-consistent">Be internally consistent</h1>
<p>Risk and costs of equity and capital: Stable growth firms tend to</p>
<ol type="1">
<li>Have betas closer to one</li>
<li>Have debt ratios closer to industry averages (or mature company averages)</li>
<li>Country risk premiums (especially in emerging markets should evolve over time)</li>
</ol>
<p>The excess returns at stable growth firms should approach (or become) zero.<br>
ROC -&gt; Cost of capital and ROE -&gt; Cost of equity</p>
<p>The reinvestment needs and dividend payout ratios should reflect the lower growth and excess returns:</p>
<ul>
<li>Stable period payout ratio = 1 - g/ ROE</li>
<li>Stable period reinvestment rate = g/ ROC</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/27/Multiplication/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/27/Multiplication/" class="post-title-link" itemprop="url">Multiplication</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-27 11:13:38 / Modified: 15:38:15" itemprop="dateCreated datePublished" datetime="2019-03-27T11:13:38-04:00">2019-03-27</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/27/Multiplication/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/27/Multiplication/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="fast-multiplication">Fast Multiplication</h1>
<p>How to multiply numbers (fast)</p>
<p>In the past we had all arithmetic <span class="math inline">\(O(1)\)</span>. This is only true for standard numbers (e.g. int, float) but false for large integers or high precision reals.</p>
<p>Remark<br>
We use base-10 for convenience but base-2 for computers</p>
<p>Operation with digits are <span class="math inline">\(O(1)\)</span>.</p>
<h2 id="addition">Addition</h2>
<h3 id="input">Input</h3>
<p>n-digit numbers <code>A</code> and <code>B</code></p>
<h3 id="output">Output</h3>
<p><code>C = A + B</code> (at most <code>n+1</code> digits)</p>
<h3 id="complexity">Complexity</h3>
<p><span class="math inline">\(O(n)\)</span></p>
<h2 id="multiplication">Multiplication</h2>
<h3 id="input-1">Input</h3>
<p>n-digit numbers <code>A</code> and <code>B</code></p>
<h3 id="output-1">Output</h3>
<p><code>C = A * B</code> (at most <code>2n</code> digits)</p>
<p><span class="math inline">\(A&lt;10^n,B&lt;10^n\Longrightarrow AB&lt;10^{2n}\)</span></p>
<h3 id="complexity-1">Complexity</h3>
<p><span class="math inline">\(O(n^2)\)</span></p>
<ol type="1">
<li>n number-by-digit multiplications <span class="math inline">\(O(n^2)\)</span></li>
<li>add up n numbers of 2n digits <span class="math inline">\(O(n^2)\)</span></li>
</ol>
<h2 id="karatsuba-multiplication">Karatsuba multiplication</h2>
<p>Toy: addition of n-bit numbers, A=a_1,..a_n, B=b_1..b_n</p>
<p><span class="math inline">\(A = A_0A_1\)</span><br>
<span class="math inline">\(A=A_0\cdot 2^\frac{n}{2}+A_1\)</span><br>
<span class="math inline">\(B = B_0B_1\)</span><br>
<span class="math inline">\(B=B_0\cdot 2^\frac{n}{2}+B_1\)</span></p>
<h3 id="normal">Normal</h3>
<p><span class="math inline">\(C=AB=(A_0\cdot 2^\frac{n}{2}+A_1)(B_0\cdot 2^\frac{n}{2}+B_1)=(A_0B_0)2^n+(A_0B_1+A_1B_0)2^\frac{n}{2}+A_1B_1\)</span><br>
<span class="math inline">\(T(n)=4T(\frac{n}{2})+O(n)\)</span></p>
<h3 id="fast">Fast</h3>
<p><span class="math inline">\((A_0+A_1)(B_0+B_1)=A_0B_0+(A_0B_1+A_1B_0)+A_1B_1\)</span><br>
<span class="math inline">\(\text{Let } M_1=A_0B_0, M_2=A_1B_1, M_3=(A_0+A_1)(B_0+B_1)\)</span><br>
<span class="math inline">\(C = M_12^n+(M_3-M_1-M_2)2^\frac{n}{2}+M_2\)</span><br>
<span class="math inline">\(T(n)=3T(\frac{n}{2})+O(n)\)</span></p>
<h3 id="complexity-2">Complexity</h3>
<p><span class="math inline">\(3^{log_2{n}}=\)</span> <span class="math inline">\(n^{\log_2{3}}\)</span></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/25/Sorting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/25/Sorting/" class="post-title-link" itemprop="url">Sorting</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-25 11:56:57" itemprop="dateCreated datePublished" datetime="2019-03-25T11:56:57-04:00">2019-03-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-27 11:12:46" itemprop="dateModified" datetime="2019-03-27T11:12:46-04:00">2019-03-27</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/25/Sorting/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/25/Sorting/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="divide-conquer">Divide &amp; Conquer</h1>
<h2 id="example-binary-search">Example: Binary Search</h2>
<p>Given sorted <code>A[1..n]</code> and number <code>x</code>. Find out whether <code>A</code> contains <code>x</code>.</p>
<p>Complexity: <span class="math inline">\(O(\log{n})\)</span></p>
<h1 id="sorting">Sorting</h1>
<h3 id="input">Input</h3>
<p>Array <code>A[1..n]</code> of numbers</p>
<h3 id="output">Output</h3>
<p>Sorted <code>A[1..n]</code> in <strong>ascending</strong> order</p>
<h2 id="merge-sort">Merge Sort</h2>
<h3 id="merge">Merge</h3>
<p>Suppose we have two sorted arrays:<br>
B: 1, 5, 12<br>
C: 2, 3, 7</p>
<p>and we want to combine the two arrays to get 1, 2, 3, 5, 7, 12</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(L, R)</span>:</span></span><br><span class="line">    i = j = <span class="number">0</span></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">while</span> i &lt; len(L) <span class="keyword">and</span> j &lt; len(R):</span><br><span class="line">        <span class="keyword">if</span> L[i] &lt;= R[j]:</span><br><span class="line">            result.append(L[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(R[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; len(L):</span><br><span class="line">        result.append(L[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt; len(R):</span><br><span class="line">        result.append(R[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>The complexity is <span class="math inline">\(O(m+n), m = len(L), n = len(R)\)</span></p>
<h3 id="sort">Sort</h3>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(A) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line">    m = len(A) // <span class="number">2</span></span><br><span class="line">    L = merge_sort(A[:m])</span><br><span class="line">    R = merge_sort(A[m:])</span><br><span class="line">    <span class="keyword">return</span> merge(L, R)</span><br></pre></td></tr></table></figure>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<p><span class="math inline">\(T(n) = 2\times T(\frac{n}{2}) + \Theta(n)\)</span><br>
<span class="math inline">\(T(n) = \log_2{n}\times\Theta(n) = O(n\log{n})\)</span></p>
<p>What if<br>
<span class="math inline">\(T(n) = 2\times T(\frac{n}{2}) + n^2\)</span><br>
<span class="math inline">\(T(n) = n^2\times\frac{1-\frac{1}{2}^{\log_2{n}}}{1-\frac{1}{2}} = O(n^2)\)</span></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/19/Database-Systems-Unit-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/19/Database-Systems-Unit-3/" class="post-title-link" itemprop="url">Database Systems Unit 3</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-19 14:55:25" itemprop="dateCreated datePublished" datetime="2019-03-19T14:55:25-04:00">2019-03-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-27 15:42:53" itemprop="dateModified" datetime="2019-03-27T15:42:53-04:00">2019-03-27</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Systems/" itemprop="url" rel="index"><span itemprop="name">Database Systems</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/19/Database-Systems-Unit-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/19/Database-Systems-Unit-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="introduction">Introduction</h1>
<p>The basic “data type”, or a “variable” of a relational database, is a <strong>relation</strong>.<br>
In this unit, such a variable will be a <strong>set</strong>.<br>
Later, we will extend this, and such a variable will be a <strong>multiset</strong>.<br>
In SQL such a variable is called a <strong>table</strong>.<br>
We may use the term table for a relation in this unit too.</p>
<h1 id="sets">Sets</h1>
<p>We will not use axiomatic set theory.</p>
<p>A set is a “bag” of elements, some/all of which could be sets themselves and a binary relationship “is element of” denoted by <span class="math inline">\(\in\)</span>, such as 2 <span class="math inline">\(\in\)</span> {2, 5, 3, 7}, {2,8} <span class="math inline">\(\in\)</span> {2, {2, 8}, 5, 3, 7}.</p>
<p>You cannot specify</p>
<ol type="1">
<li>How many times an element appears in a set (if you could, this would be a multiset)</li>
<li>In which position an element appears (if you could, this would be a sequence)</li>
</ol>
<p>Therefore, {2, 5, 3, 7} = {2, 7, 5, 3, 5, 3, 3}<br>
Note: in many places you will read: “an element can appear in a set at most once”</p>
<ul>
<li>This is not quite right. And it is important not to assume this, as we will see in a later unit</li>
</ul>
<h1 id="relations">Relations</h1>
<p>Consider a table, with a fixed number of columns where the elements of each column are drawn from some specific domain. The columns are labeled and the labels are distinct.</p>
<p>We will consider such a table to be <strong>a set of rows</strong> (another word for “row” in our context: <strong>tuple</strong>).</p>
<p>An example of a table S of two columns A and B</p>
<img src="/2019/03/19/Database-Systems-Unit-3/Relation_1.png">
<p>A <strong>relation</strong> is such a table<br>
We will also write S(A,B) for table S with columns A and B.</p>
<h2 id="relation-schema">Relation Schema</h2>
<p>What we saw was an <strong>instance</strong> (current value for a relation with the defined columns and domains).</p>
<p>To specify this relation in general (not the specific instance) we need to talk about a <strong>relational schema</strong>.<br>
A relational schema defines a set of relations.</p>
<p>In databases everything is finite, so a relational schema defines a finite set of finite relations.</p>
<p>Here is an informal, but complete, description what a relational schema of one relation is<br>
We want to define a structure for some table</p>
<ol type="1">
<li>We give it a name (we had S)</li>
<li>We chose the number of columns (we had 2) and give them distinct names (we had A and B)</li>
<li>We decide on the domains of elements in the columns (we had letters for A and integers for B)</li>
<li>We decide on constraints, if any, on the permitted values (for example, we can assume as it was true for our example that any two rows that are equal on A must be equal on B)</li>
</ol>
<h1 id="keys">Keys</h1>
<p>We will specify generally, as suitable for the schema:</p>
<ul>
<li><strong>Primary keys</strong></li>
<li><strong>Keys</strong> (beyond primary)</li>
<li><strong>Foreign keys</strong> and what they reference (we will see soon what this means)</li>
</ul>
<p>The above are most important <strong>structurally</strong>. Later, especially when we talk about SQL DDL, we will specify additional properties and constraints. For example, the height of a person has to be positive, if it is known. Some of the constraints may involve more than one relation.</p>
<p>A set of columns in a relation is a <strong>superkey</strong> if and only any two tuples that are equal on the elements of these columns are (completely equal).<br>
<strong>A relation always has at least one superkey</strong><br>
The set of all the attributes is a superkey.<br>
A minimal superkey, is a <strong>key</strong>.<br>
A relation always has at least one key (start with any superkey and remove unnecessary columns)<br>
There may be more than one key <strong>Exactly one</strong> key is chosen as <strong>primary key</strong> (there is no formal way to decide which one)<br>
Other keys are just keys and sometimes they are called <strong>candidate keys</strong> (as they are candidates for the primary key, though not chosen)</p>
<h2 id="superkey">Superkey</h2>
<p>A set of columns whose values determine the values of all the columns in a row for every instance of the relation</p>
<ul>
<li>All the columns form a superkey (trivially)</li>
<li>Superkeys are only used in formal definitions</li>
</ul>
<h2 id="key">Key</h2>
<p>A set of columns whose values determine the values of all the columns in a row for every instance of the relation, <strong>but any proper subset of that set of columns does not do that</strong></p>
<h2 id="primary-key">Primary Key</h2>
<p>A chosen key. Important: <strong>no attribute of a primary key can be NULL</strong> (the value of every attribute must be always known); why will be discussed later</p>
<h1 id="relational-databases">Relational Databases</h1>
<p>A relational database is “basically” a set of tables with values drawn from specified domains, specified using a relational schema.</p>
<p>This is formally correct, but it is misleading in reality As we will see soon, a better way to define a relational database is to say that it is</p>
<ul>
<li>A set of relations</li>
<li>A set of binary, many-to-one mappings between them (partial functions), mimicking child-to-parent relationships Looking from the “other side,” they are one-to-many, mimicking parent-to-child relationships</li>
<li>Some other, less fundamental, components ignored for now</li>
</ul>
<h1 id="from-er-diagram-to-relational-database-key-concepts-with-examples">From ER Diagram to Relational Database: Key Concepts With Examples</h1>
<p>We are now ready to convert ER diagrams into relational databases<br>
Generally, but not always</p>
<ul>
<li>An entity set is converted into a table</li>
<li>A relationship is converted into a table</li>
<li>This is logical design, though some call it physical design</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/Database-Systems-Unit-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/Database-Systems-Unit-2/" class="post-title-link" itemprop="url">Database Systems Unit 2</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 12:23:39 / Modified: 15:04:38" itemprop="dateCreated datePublished" datetime="2019-03-18T12:23:39-04:00">2019-03-18</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Systems/" itemprop="url" rel="index"><span itemprop="name">Database Systems</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/18/Database-Systems-Unit-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/18/Database-Systems-Unit-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="introduction">Introduction</h1>
<h2 id="purpose-of-er-model">Purpose of ER Model</h2>
<p><strong>Entity/relationship (ER) model</strong> provides a common, informal, and convenient method for communication between application and users/customers and the database designers in order to model the information's structure.</p>
<p>This is <strong>conceptual design</strong>, though some call this <strong>logical design</strong>.</p>
<p>The ER model typically employs <strong>ER diagrams</strong>, pictorial descriptions to visualize information's structure.</p>
<p>ER models are well-suited for database designs and are both <strong>simple</strong> and <strong>powerful</strong>.</p>
<p><strong>Whatever needs to be specified about the application that cannot be specified using ER diagrams needs to be stateds as textual comments.</strong></p>
<p>There are three basic concepts appearing in the original ER model, which has since been extended. We will present the model from more simple to more complex concepts, with examples on the way.</p>
<p>We will go beyond the original ER model, and cover most of the Enhanced ER model.</p>
<p>While the ER model’s concepts are standard, there are several varieties of pictorial representations of ER diagrams.</p>
<ul>
<li>We will focus on one of them: Chen’s notation</li>
<li>We will also cover Crow’s foot notation, which is particularly suited for relational database design</li>
<li>Others are simple variations, so if we understand the above, we can easily understand all of them.</li>
</ul>
<p>You can look at some examples at: <a href="http://en.wikipedia.org/wiki/Entity-relationship_model" class="uri" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Entity-relationship_model</a></p>
<h2 id="basic-concepts">Basic Concepts</h2>
<p>The three basic concepts are:</p>
<h3 id="entity">Entity</h3>
<p>This is an “object.” Cannot be defined even close to a formal way. Examples:</p>
<ul>
<li>Bob</li>
<li>Boston</li>
<li>The country whose capital is Paris<br>
(There is only one such country so it is completely specified)</li>
</ul>
<h3 id="relationship">Relationship</h3>
<p>Entities participate in relationships with each other. Examples:</p>
<ul>
<li>Alice and Boston are in relationship Likes (Alice likes Boston)</li>
<li>Bob and Atlanta are not in this relationship</li>
</ul>
<h3 id="attribute-property">Attribute (property)</h3>
<p>Examples:</p>
<ul>
<li>Age is an attribute of persons</li>
<li>Size is an attribute of cities</li>
</ul>
<h1 id="entity-1">Entity</h1>
<p>Entity is a “thing” that is distinguished from others in our application</p>
<ul>
<li>Example: Alice</li>
</ul>
<p>All entities of the same “type” form an entity set; we use the term “type” informally</p>
<ul>
<li>Example: Person (actually a set of persons). Alice is an entity in this entity set</li>
</ul>
<p>What type is a little tricky sometimes Example. Do we partition people by sex or not?</p>
<ul>
<li>Sometimes makes sense: gave birth This allows better enforcement of constraints. You could “automatically” make sure that only entities in the set of (biological) women, but not in the set of men can give birth</li>
<li>Sometimes maybe not: employment</li>
</ul>
<p>Example. When we say “the set of all Boeing airplanes,” is this</p>
<ul>
<li>The set of all models appearing in Boeing’s catalog (abstract objects), or</li>
<li>The set of airplanes that Boeing manufactured (concrete objects)?</li>
</ul>
<p>We may be interested in both and have two entity sets that are appropriately related.</p>
<p>We will frequently use the term “entity” while actually referring to entity sets, unless this causes confusion.</p>
<p>Pictorially, an entity set is denoted by a <strong>rectangle</strong> with its type written inside.</p>
<p>By convention, singular noun, though we may not adhere to this convention if not adhering to it makes things clearer.</p>
<p>By convention capitalized or all capitals if acronym.</p>
<h2 id="strong-and-weak-entities">Strong and Weak Entities</h2>
<ul>
<li>A <strong>strong entity</strong> (set): Its elements can be identified by the values of their attributes, that is, it has a (primary) key made of its attributes</li>
<li>A <strong>weak entity</strong> (set): Its elements cannot be identified by the values of their attributes: no primary key can be made from its own attributes Such entities can be identified by a combination of their attributes and the relationship they have with an entity in another entity set</li>
</ul>
<p>We assume that women are given SSNs. Men are not given SSNs; they have first names only, but for each we know who the mother is (that is, we know the SSN of the man’s mother).</p>
<p>Man is a <strong>weak</strong> entity as we cannot identify a specific man based on his own attributes and this is indicated by <strong>thick lines</strong> around it.</p>
<p>Many women could have a son named Bob, so there are many men named Bob. However, if a woman never gives a specific name to more than one of her sons, a man can be identified by his name (note <strong>double underline</strong>) and by his mother’s SSN.</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Entity_1.png">
<p>Assuming that a woman does not have more than one son with a specific first name.</p>
<p>Name becomes a <strong>discriminant</strong>.</p>
<p>Man can be identified by the combination of:</p>
<ul>
<li>The Woman to whom he is related under the Son relation. This is indicated by thick lines around Son (it is weak). Thick line connecting Man to Son indicates the relationship is total on Man (every Man participates) and used for identification</li>
<li>We add an arrowhead for consistency, although we know that semantically the relationship must be many-to-one</li>
<li>His Name. His Name is now a <strong>discriminant</strong>; this is indicated by <strong>double underline</strong></li>
</ul>
<p>We need to specify for a weak entity through which relationship it is identified; this is done by using <strong>thick lines</strong>.</p>
<p>Otherwise we do not know whether Man is identified through Son or through Works.</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Entity_2.png">
<p>Sometimes a discriminant is not needed. We are only interested in men who happen to be first sons of women. Every Woman has at most one First Son.</p>
<p>So we do not need to have Name for Man (if we do not want to store it, but if we do store it, it is not a discriminant).</p>
<p>Note an arrowhead to the left: each Woman has at most one First Son.</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Entity_3.png">
<p>In general, more than one attribute may be needed as a discriminant.</p>
<p>For example, let us say that man has both first name and middle name.</p>
<ul>
<li>A mother may give two sons the same first name or the same middle name</li>
<li>A mother will never give two sons the same first name and the same middle name</li>
</ul>
<p>The pair (first name, middle name) together form a discriminant.</p>
<p>There can be several levels of “weakness”.</p>
<p>Here we can say that a horse named “Speedy” belongs to Bob, whose mother is a woman with SSN 072-45-9867.</p>
<p>A woman can have several sons, each of whom can have several horses.</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Entity_4.png">
<h2 id="weak-entity-or-multivalued-attribute">Weak Entity or Multivalued Attribute?</h2>
<p>If nothing in the description of the application leads us to believe that Man could have its own attributes or could participate in relationships (other than with his mother), it might be more natural to implement the fragment of the database using a multivalued attribute.</p>
<h1 id="attribute">Attribute</h1>
<p>An entity may have (and in general has) a set of zero or more attributes, which are some properties.</p>
<p>Each attribute is drawn from some domain (such as integers) possibly augmented by NULL (more about NULLs later).</p>
<p>All the entities in an entity set have the same set of attributes, though not generally with the same values.</p>
<p>Attributes of an entity are written in ellipses (for now solid lines) connected to the entity.</p>
<ul>
<li>Example: FN: “First Name.” LN: “Last Name.” DOB: “Date of Birth.”</li>
</ul>
<img src="/2019/03/18/Database-Systems-Unit-2/Attribute_1.png">
<p>Attributes can be</p>
<ul>
<li><strong>Base</strong> (such as DOB) or <strong>derived</strong> denoted by <code>dashed ellipses</code> (such as Age, derived from DOB and the current date)</li>
<li><strong>Simple</strong> (such as DOB) or <strong>composite</strong> having their component attributes <code>attached</code> to them (such as Address, when we think of it explicitly as consisting of street and number and restricting ourselves to one city only)</li>
<li><strong>Singlevalued</strong> (such as DOB) or <strong>multivalued</strong> with unspecified in advance number of values denoted by <code>thick-lined ellipses</code> (such as Child; a person may have any number of children; we do not consider children as persons in this example, this means that they are not elements of the entity set Person, just attributes of the entities in this set)</li>
</ul>
<p>Some people (not we) use the convention of using double lines whenever we use thick lines</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Attribute_2.png">
<p>To have a simple example of a person with attributes</p>
<ul>
<li>Child: Bob</li>
<li>Child: Carol</li>
<li>FN: Alice</li>
<li>LN: Xie</li>
<li>DOB: 1980-01-01</li>
<li>Address.Number: 100</li>
<li>Address.Street: Mercer</li>
<li>Age: Current Date minus DOB specified in years (rounded down)</li>
</ul>
<h1 id="keys">Keys</h1>
<p>Most of the times, some subset (proper or not) of the attributes of an entity has the property that <em>two different entities in an entity set must differ on the values of these attributes</em>.</p>
<p>This must hold for all conceivable entities in our database Such a set of attributes is called a <strong>superkey</strong> (“weak” superset of a key: either proper superset or equal).</p>
<p>A minimal <strong>superkey</strong> is called a <strong>key</strong> (sometimes called a candidate key).</p>
<ul>
<li>This means that no proper subset of it is itself a superkey.</li>
</ul>
<p>Informally: superkey values can identify an individual entity but there may be unnecessary attributes</p>
<p>Informally: key value can identify an individual entity but there are no unnecessary attributes</p>
<p>Example: Social Security Number + Last Name form a superkey, which is not a key as Social Security Number is enough to identify a person</p>
<p>In our example:</p>
<ul>
<li>Longitude and Latitude (their values) identify (at most) one City, but only Longitude or only Latitude do not</li>
<li>(Longitude, Latitude) form a superkey, which is also a key</li>
<li>(Longitude, Latitude, Size, Name) form a superkey, which is not a key, because Size and Name are superfluous</li>
<li>(Country, State, Name) form another key (and also a superkey, as every key is a superkey)</li>
</ul>
<p>For simplicity, we assume that every country is divided into states and within a state the city name is unique</p>
<h2 id="primary-keys">Primary Keys</h2>
<p>If an entity set has one or more keys, one of them (no formal rule which one) is chosen as the <strong>primary key</strong>.</p>
<p>In SQL <strong>the other keys</strong>, loosely speaking, are referred to using the keyword <code>UNIQUE</code></p>
<p>In the ER diagram, the attributes of the primary key are <strong>underlined</strong></p>
<p>So in our example, one of the two below:</p>
<img src="/2019/03/18/Database-Systems-Unit-2/Keys_1.png">
<h1 id="relationship-1">Relationship</h1>
<p>Several entity sets (one or more) can participate in a <strong>relationship</strong>.</p>
<p>Relationships are denoted by diamonds, to which the participating entities are “attached”.</p>
<p>A relationship could be binary, ternary, ….</p>
<p>By convention, a capitalized verb in third person singular (e.g., Likes), though we may not adhere to this convention if not adhering to it makes things clearer.</p>
<h2 id="isa">ISA</h2>
<h3 id="the-isa-relationship">The ISA Relationship</h3>
<p>For certain purposes, we consider subsets of an entity set. The subset relationship between the set and its subset is called <strong>ISA</strong>, meaning <strong>“is a”</strong>.</p>
<p>Elements of the subset, of course, have all the attributes and relationships as the elements of the set: they are in the “original” entity set.</p>
<p>In addition, they may participate in relationships and have attributes that make sense for them.</p>
<p>But those relationships and attributes do not make sense for every entity in the “original” entity set.</p>
<p>ISA is indicated by a triangle. The elements of the subset are weak entities, as we will note next.</p>
<p>Example: A subset that has an attribute that the original set does not have</p>
<p>We look at all the persons associated with a university Some of the persons happen to be professors and some of the persons happen to be students</p>
<img src="/2019/03/18/Database-Systems-Unit-2/ISA_1.png">
<p><strong>It Is Possible to Represent Hierarchies Using Weak Entities, but not a good idea.</strong></p>
<img src="/2019/03/18/Database-Systems-Unit-2/ISA_2.png">
<p>Professor is a weak entity because it cannot be identified by its own attributes (here: Salary).</p>
<p>Student is a weak entity because it cannot be identified by its own attributes (here: GPA).</p>
<p>They <strong>do not</strong> have <strong>discriminants</strong>, they are identified by the primary key of the strong entity (Person).</p>
<p>We <strong>do not</strong> need to put Student and Professor in a rectangle with <strong>thick lines</strong> as being “under” ISA automatically tells us that they are weak entities.</p>
<p>There may be an attribute of Person (called <strong>discriminator</strong>) that can be used to determine who is a Student and who is a Professor.</p>
<ul>
<li>For a fake example: Professor names start with a A–M and Student names start with N–Z (but note advisement in our department for a real example)</li>
</ul>
<p>The set and the subsets are sometimes referred to as <strong>class</strong> and <strong>subclasses</strong>.</p>
<p>A person associated with the university (and therefore in our database) can be in general</p>
<ul>
<li>Only a professor</li>
<li>Only a student</li>
<li>Both a professor and a student</li>
<li>Neither a professor nor a student</li>
</ul>
<p>A specific ISA could be</p>
<ul>
<li><strong>Disjoint</strong>: no entity could be in more than one subclass</li>
<li><strong>Overlapping</strong>: an entity could be in more than one subclass</li>
<li><strong>Total</strong> (also called Complete): every entity has to be in at least one subclass</li>
<li><strong>Partial</strong>: an entity does not have to be in any subclass</li>
</ul>
<p>This could be specified by replacing “ISA” in the diagram by an appropriate letter.</p>
<p>If nothing stated, then no restriction, so effectively O,P.</p>
<p>ISA is really a superclass/subclass relationship.</p>
<p>ISA could be <strong>specialization</strong>: subsets are made out of the “more basic” set.</p>
<p>ISA could be <strong>generalization</strong>: a superset is made of “more basic” sets.</p>
<p>Again, the diagram could be annotated to indicate this</p>
<h3 id="a-more-complex-example">A more complex example</h3>
<p>We have several types of employees</p>
<ul>
<li>Managers</li>
<li>Programmers</li>
<li>Analysts</li>
<li>Other</li>
</ul>
<p>An employee can be one of the following</p>
<ul>
<li>Manager</li>
<li>Programmer and/or Analyst</li>
<li>Other</li>
</ul>
<p>The 3 sets are disjoint, that is</p>
<ul>
<li>Manager cannot be Programmer or Analyst, or Other</li>
<li>Other cannot be Manager, Programmer, or Analyst</li>
</ul>
<p>All Employees have some share properties<br>
It is convenient to group Programmers and Analysts together as they have some shared properties</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/11/Growth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/11/Growth/" class="post-title-link" itemprop="url">Growth</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-11 15:05:56" itemprop="dateCreated datePublished" datetime="2019-03-11T15:05:56-04:00">2019-03-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-30 18:56:11" itemprop="dateModified" datetime="2019-03-30T18:56:11-04:00">2019-03-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Equity-Valuation/" itemprop="url" rel="index"><span itemprop="name">Equity Valuation</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/11/Growth/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/11/Growth/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="the-value-of-growth">The Value of Growth</h2>
<p>When valuing a company, it is easy to get caught up in the details of estimating growth and start viewing growth as a “good”, i.e., that higher growth translates into higher value.</p>
<p>Growth, though, is a double-edged sword.</p>
<ul>
<li>The good side of growth is that it pushes up revenues and operating income, perhaps at different rates (depending on how margins evolve over time).</li>
<li>The bad side of growth is that you have to set aside money to reinvest to create that growth.</li>
<li>The net effect of growth is whether the good outweighs the bad.</li>
</ul>
<h2 id="ways-of-estimating-growth-in-earnings">Ways of Estimating Growth in Earnings</h2>
<h3 id="look-at-the-past">Look at the past</h3>
<p>The historical growth in earnings per share is usually a good starting point for growth estimation</p>
<h3 id="look-at-what-others-are-estimating">Look at what others are estimating</h3>
<p>Analysts estimate growth in earnings per share for many firms. It is useful to know what their estimates are.</p>
<h3 id="look-at-fundamentals">Look at fundamentals</h3>
<p>Ultimately, all growth in earnings can be traced to two fundamentals - how much the firm is investing in new projects, and what returns these projects are making for the firm.</p>
<h1 id="growth-i-historical-growth">Growth I: Historical Growth</h1>
<p>Historical growth rates can be estimated in a number of different ways</p>
<ul>
<li>Arithmetic versus Geometric Averages</li>
<li>Simple versus Regression Models</li>
</ul>
<p>Historical growth rates can be sensitive to</p>
<ul>
<li>The period used in the estimation (starting and ending points)</li>
<li>The metric that the growth is estimated in</li>
</ul>
<p>In using historical growth rates, you have to wrestle with the following:</p>
<ul>
<li>How to deal with negative earnings</li>
<li>The effects of scaling up</li>
</ul>
<table>
<thead>
<tr class="header">
<th></th>
<th style="text-align: right;">Revenues</th>
<th style="text-align: right;">% Change</th>
<th style="text-align: right;">EBITDA</th>
<th style="text-align: right;">% Change</th>
<th style="text-align: right;">EBIT</th>
<th style="text-align: right;">% Change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1994</td>
<td style="text-align: right;">$ 22,245</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">$ 4,151</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">$ 2,604</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td>1995</td>
<td style="text-align: right;">$ 27,037</td>
<td style="text-align: right;">21.54%</td>
<td style="text-align: right;">$ 4,850</td>
<td style="text-align: right;">16.84%</td>
<td style="text-align: right;">$ 2,931</td>
<td style="text-align: right;">12.56%</td>
</tr>
<tr class="odd">
<td>1996</td>
<td style="text-align: right;">$ 27,973</td>
<td style="text-align: right;">3.46%</td>
<td style="text-align: right;">$ 4,268</td>
<td style="text-align: right;">-12.00%</td>
<td style="text-align: right;">$ 1,960</td>
<td style="text-align: right;">-33.13%</td>
</tr>
<tr class="even">
<td>1997</td>
<td style="text-align: right;">$ 29,794</td>
<td style="text-align: right;">6.51%</td>
<td style="text-align: right;">$ 4,276</td>
<td style="text-align: right;">0.19%</td>
<td style="text-align: right;">$ 1,947</td>
<td style="text-align: right;">-0.66%</td>
</tr>
<tr class="odd">
<td>1998</td>
<td style="text-align: right;">$ 29,398</td>
<td style="text-align: right;">-1.33%</td>
<td style="text-align: right;">$ 3,019</td>
<td style="text-align: right;">-29.40%</td>
<td style="text-align: right;">$ 822</td>
<td style="text-align: right;">-57.78%</td>
</tr>
<tr class="even">
<td>1999</td>
<td style="text-align: right;">$ 30,931</td>
<td style="text-align: right;">5.21%</td>
<td style="text-align: right;">$ 5,398</td>
<td style="text-align: right;">78.80%</td>
<td style="text-align: right;">$ 3,216</td>
<td style="text-align: right;">291.24%</td>
</tr>
<tr class="odd">
<td>Arithmetic Average</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">7.08%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">10.89%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">42.45%</td>
</tr>
<tr class="even">
<td>Geometric Average</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">6.82%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">5.39%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">4.31%</td>
</tr>
<tr class="odd">
<td>Standard deviation</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">8.61%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">41.56%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">141.78%</td>
</tr>
</tbody>
</table>
<h2 id="test">Test</h2>
<p>You are trying to estimate the growth rate in earnings per share at Time Warner from 1996 to 1997. In 1996, the earnings per share was a deficit of <code>$0.05</code>. In 1997, the expected earnings per share is <code>$0.25</code>. What is the growth rate?</p>
<ol type="1">
<li>-600%</li>
<li>+600%</li>
<li>+120%</li>
<li>Cannot be estimated</li>
</ol>
<h2 id="dealing-with-negative-earnings">Dealing with Negative Earnings</h2>
<p>When the earnings in the starting period are negative, the growth rate cannot be estimated. (0.30/-0.05 = -600%)</p>
<p>There are three solutions:</p>
<ol type="1">
<li>Use the higher of the two numbers as the denominator (0.30/0.25 = 120%)</li>
<li>Use the absolute value of earnings in the starting period as the denominator (0.30/0.05=600%)</li>
<li>Use a linear regression model and divide the coefficient by the average earnings.</li>
</ol>
<p>When earnings are negative, the growth rate is meaningless. Thus, while the growth rate can be estimated, it does not tell you much about the future.</p>
<h2 id="the-effect-of-size-on-growth-callaway-golf">The Effect of Size on Growth: Callaway Golf</h2>
<table>
<thead>
<tr class="header">
<th>Year</th>
<th style="text-align: right;">Net Profit</th>
<th style="text-align: right;">Growth Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1990</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td>1991</td>
<td style="text-align: right;">6.4</td>
<td style="text-align: right;">255.56%</td>
</tr>
<tr class="odd">
<td>1992</td>
<td style="text-align: right;">19.3</td>
<td style="text-align: right;">201.56%</td>
</tr>
<tr class="even">
<td>1993</td>
<td style="text-align: right;">41.2</td>
<td style="text-align: right;">113.47%</td>
</tr>
<tr class="odd">
<td>1994</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">89.32%</td>
</tr>
<tr class="even">
<td>1995</td>
<td style="text-align: right;">97.7</td>
<td style="text-align: right;">25.26%</td>
</tr>
<tr class="odd">
<td>1996</td>
<td style="text-align: right;">122.3</td>
<td style="text-align: right;">25.18%</td>
</tr>
</tbody>
</table>
<h2 id="extrapolation-and-its-dangers">Extrapolation and its Dangers</h2>
<table>
<thead>
<tr class="header">
<th>Year</th>
<th style="text-align: right;">Net Profit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1996</td>
<td style="text-align: right;">$122.30</td>
</tr>
<tr class="even">
<td>1997</td>
<td style="text-align: right;">$247.05</td>
</tr>
<tr class="odd">
<td>1998</td>
<td style="text-align: right;">$499.03</td>
</tr>
<tr class="even">
<td>1999</td>
<td style="text-align: right;">$1,008.05</td>
</tr>
<tr class="odd">
<td>2000</td>
<td style="text-align: right;">$2,036.25</td>
</tr>
<tr class="even">
<td>2001</td>
<td style="text-align: right;">$4,113.23</td>
</tr>
</tbody>
</table>
<p>If net profit continues to grow at the same rate as it has in the past 6 years, the expected net income in 5 years will be <code>$4.113</code> billion.</p>
<h1 id="growth-ii-analyst-estimates">Growth II: Analyst Estimates</h1>
<h2 id="analyst-forecasts-of-growth">Analyst Forecasts of Growth</h2>
<p>While the job of an analyst is to find under and over valued stocks in the sectors that they follow, a significant proportion of an analyst’s time (outside of selling) is spent forecasting earnings per share.</p>
<ul>
<li>Most of this time, in turn, is spent forecasting earnings per share in the next earnings report</li>
<li>While many analysts forecast expected growth in earnings per share over the next 5 years, the analysis and information (generally) that goes into this estimate is far more limited.</li>
</ul>
<p>Analyst forecasts of earnings per share and expected growth are widely disseminated by services such as Zacks and IBES, at least for U.S companies.</p>
<h2 id="how-good-are-analysts-at-forecasting-growth">How good are analysts at forecasting growth?</h2>
<p>Analysts forecasts of EPS tend to be closer to the actual EPS than simple time series models, but the differences tend to be small</p>
<table>
<thead>
<tr class="header">
<th>Study</th>
<th>Group tested</th>
<th>Analyst Error</th>
<th>Time Series Model Error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Collins &amp; Hopwood</td>
<td>Value Line Forecasts</td>
<td>31.70%</td>
<td>34.10%</td>
</tr>
<tr class="even">
<td>Brown &amp; Rozeff</td>
<td>Value Line Forecasts</td>
<td>28.40%</td>
<td>32.20%</td>
</tr>
<tr class="odd">
<td>Fried &amp; Givoly</td>
<td>Earnings Forecaster</td>
<td>16.40%</td>
<td>19.80%</td>
</tr>
</tbody>
</table>
<p>The advantage that analysts have over time series models</p>
<ul>
<li>tends to decrease with the forecast period (next quarter versus 5 years)</li>
<li>tends to be greater for larger firms than for smaller firms</li>
<li>tends to be greater at the industry level than at the company level s Forecasts of growth (and revisions thereof) tend to be highly correlated across analysts.</li>
</ul>
<h1 id="growth-iii-fundamentals">Growth III: Fundamentals</h1>
<img src="/2019/03/11/Growth/growth_1.png">
<img src="/2019/03/11/Growth/growth_2.png">
<table>
<colgroup>
<col style="width: 15%">
<col style="width: 39%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Earnings Measure</th>
<th>Reinvestment Measure</th>
<th>Return Measure</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Earnings per share</td>
<td><span class="math inline">\(\text{Retention Ratio} = \text{\% of net income retained by the company} = 1 – \text{Payout ratio}\)</span></td>
<td><span class="math inline">\(\text{Return on Equity} = \frac{\text{Net Income}}{\text{Book Value of Equity}}\)</span></td>
</tr>
<tr class="even">
<td>Net Income from non-cash assets</td>
<td><span class="math inline">\(\text{Equity Reinvestment Rate} = \frac{\text{Net CapEx} + \text{Change in non-cash WC} – \text{Change in Debt}}{\text{Net Income}}\)</span></td>
<td><span class="math inline">\(\text{Non-cash ROE} = \frac{\text{Net Income from non-cash assets}}{\text{Book value of equity – Cash}}\)</span></td>
</tr>
<tr class="odd">
<td>Operating Income</td>
<td><span class="math inline">\(\text{Reinvestment Rate} = \frac{\text{Net CapEx} + \text{Change in non-cash WC}}{\text{After-tax Operating Income}}\)</span></td>
<td><span class="math inline">\(\text{Return   on Capital or ROIC} = \frac{\text{After-tax Operating Income}}{\text{Book value of equity + Book   value of debt – Cash}}\)</span></td>
</tr>
</tbody>
</table>
<h2 id="i.-expected-long-term-growth-in-eps">I. Expected Long Term Growth in EPS</h2>
<p>When looking at growth in earnings per share, these inputs can be cast as follows:</p>
<ul>
<li><span class="math inline">\(\text{Reinvestment Rate} = \frac{\text{Retained Earnings}}{\text{Current Earnings}} = \text{Retention Ratio}\)</span></li>
<li><span class="math inline">\(\text{Return on Investment} = ROE = \frac{\text{Net Income}}{\text{Book Value of Equity}}\)</span></li>
</ul>
<p>In the special case where the current ROE is expected to remain unchanged <span class="math display">\[g_{EPS}   = \frac{\text{Retained Earnings}_{t-1}}{\text{Net Income}_{t-1}} \times ROE
            = \text{Retention Ratio} \times ROE
            = b * ROE\]</span> Proposition 1: The expected growth rate in earnings for a company cannot exceed its return on equity in the long term.</p>
<h3 id="practice-estimating-expected-growth-in-eps-wells-fargo-in-2008">Practice: Estimating Expected Growth in EPS: Wells Fargo in 2008</h3>
<ul>
<li>Return on equity (based on 2008 earnings)= 17.56%<br>
</li>
<li>Retention Ratio (based on 2008 earnings and dividends) = 45.37%<br>
</li>
<li>Expected growth rate in earnings per share for Wells Fargo, if it can maintain these numbers.</li>
</ul>
<p>Expected Growth Rate = 0.4537 (17.56%) = 7.97%</p>
<h3 id="regulatory-effects">Regulatory Effects</h3>
<p>Assume now that the banking crisis of 2008 will have an impact on the capital ratios and profitability of banks. In particular, you can expect that the book capital (equity) needed by banks to do business will increase 30%, starting now.</p>
<p>Assuming that Wells continues with its existing businesses, estimate the expected growth rate in earnings per share for the future.</p>
<ul>
<li>New Return on Equity = .1756/ (1+.30) = .1351</li>
<li>Expected growth rate = (.4537) (.1351) = 6.13%</li>
</ul>
<h3 id="one-way-to-pump-up-roe-use-more-debt">One way to pump up ROE: Use more debt</h3>
<p><span class="math display">\[ROE = ROC + \frac{D}{E} (ROC - i (1-t))\]</span> where,</p>
<ul>
<li>ROC = EBITt (1 - tax rate) / Book value of Capitalt-1</li>
<li>D/E = BV of Debt/ BV of Equity</li>
<li>i = Interest Expense on Debt / BV of Debt</li>
<li>t = Tax rate on ordinary income</li>
</ul>
<p>This is derived from <span class="math display">\[ROC = \frac{E}{D+E}ROE + \frac{D}{D+E}i(1-t)\]</span></p>
<p>Note that Book value of capital = Book Value of Debt + Book value of Equity - Cash.</p>
<h2 id="ii.-expected-growth-in-net-income-from-non-cash-assets">II. Expected Growth in Net Income from non-cash assets</h2>
<p>The limitation of the EPS fundamental growth equation is that it focuses on per share earnings and assumes that reinvested earnings are invested in projects earning the return on equity. To the extent that companies retain money in cash balances, the effect on net income can be muted.</p>
<p>A more general version of expected growth in earnings can be obtained by substituting in the equity reinvestment into real investments (net capital expenditures and working capital) and modifying the return on equity definition to exclude cash:</p>
<ul>
<li><span class="math inline">\(\text{Net Income from non-cash assets} = \text{Net income} - \text{Interest income from cash} (1 - t)\)</span></li>
<li><span class="math inline">\(\text{Equity Reinvestment Rate} = \frac{(\text{Net Capital Expenditures} + \text{Change in Working Capital}) (1 - \text{Debt Ratio})} {\text{Net Income from non-cash assets}}\)</span></li>
<li><span class="math inline">\(\text{Non-cash ROE} = \frac{\text{Net Income from non-cash assets}}{\text{BV of Equity – Cash}}\)</span></li>
<li><span class="math inline">\(\text{Expected Growth}_{\text{Net Income}} = \text{Equity Reinvestment Rate} \times \text{Non-cash ROE}\)</span></li>
</ul>
<h3 id="estimating-expected-growth-in-net-income-from-non-cash-assets-coca-cola-in-2010">Estimating expected growth in net income from non-cash assets: Coca Cola in 2010</h3>
<p>In 2010, Coca Cola reported net income of <code>$11,809</code> million. It had a total book value of equity of <code>$25,346</code> million at the end of 2009.</p>
<p>Coca Cola had a cash balance of <code>$7,021</code> million at the end of 2009, on which it earned income of <code>$105</code> million in 2010.</p>
<p>Coca Cola had capital expenditures of <code>$2,215</code> million, depreciation of <code>$1,443</code> million and reported an increase in working capital of <code>$335</code> million. Coca Cola’s total debt increased by <code>$150</code> million during 2010.</p>
<ul>
<li>Equity Reinvestment = 2215- 1443 + 335-150 = <code>$957</code> million</li>
<li>Non-cash Net Income = 11,809 - 105 = <code>$11,704</code> million</li>
<li>Non-cash book equity = 25,346 - 7021 = <code>$18,325</code> million</li>
<li>Reinvestment Rate = 957 million / 11,704 million= 8.18%</li>
<li>Non-cash ROE = 11,704 million / 18,325 million = 63.87%</li>
</ul>
<p>Expected growth rate = 8.18% * 63.87% = 5.22%</p>
<h2 id="iii.-expected-growth-in-ebit-and-fundamentals-stable-roc-and-reinvestment-rate">III. Expected Growth in EBIT And Fundamentals: Stable ROC and Reinvestment Rate</h2>
<p>When looking at growth in operating income, the definitions are</p>
<ul>
<li><span class="math inline">\(\text{Reinvestment Rate} = \frac{\text{Net Capital Expenditures + Change in WC}}{EBIT(1-t)}\)</span></li>
<li><span class="math inline">\(\text{Return on Investment} = ROC = \frac{EBIT(1-t)}{\text{BV of Debt + BV of Equity-Cash}}\)</span></li>
</ul>
<p>Reinvestment Rate and Return on Capital</p>
<p><span class="math inline">\(\text{Expected Growth rate in Operating Income} = \frac{\text{Net Capital Expenditures} + \text{Change in WC}}{EBIT(1-t)} \times ROC = \text{Reinvestment Rate} \times ROC\)</span></p>
<p>Proposition: The net capital expenditure needs of a firm, for a given growth rate, should be inversely proportional to the quality of its investments.</p>
<h3 id="estimating-growth-in-operating-income-if-fundamentals-stay-unchanged">Estimating Growth in Operating Income, if fundamentals stay unchanged</h3>
<p>Cisco’s Fundamentals</p>
<ul>
<li>Reinvestment Rate = 106.81%</li>
<li>Return on Capital = 34.07%</li>
<li>Expected Growth in EBIT =(1.0681)(.3407) = 36.39%</li>
</ul>
<p>Motorola’s Fundamentals</p>
<ul>
<li>Reinvestment Rate = 52.99%</li>
<li>Return on Capital = 12.18%</li>
<li>Expected Growth in EBIT = (.5299)(.1218) = 6.45%</li>
</ul>
<p>Cisco’s expected growth rate is clearly much higher than Motorola’s sustainable growth rate. As a potential investor in Cisco, what would worry you the most about this forecast?</p>
<ol type="1">
<li>That Cisco’s return on capital may be overstated (why?)</li>
<li>That Cisco’s reinvestment comes mostly from acquisitions (why?)</li>
<li>That Cisco is getting bigger as a firm (why?)</li>
<li>That Cisco is viewed as a star (why?)</li>
<li>All of the above</li>
</ol>
<img src="/2019/03/11/Growth/growth_3.png">
<h2 id="iv.-operating-income-growth-when-return-on-capital-is-changing">IV. Operating Income Growth when Return on Capital is Changing</h2>
<p>When the return on capital is changing, there will be a second component to growth, positive if the return on capital is increasing and negative if the return on capital is decreasing.</p>
<p>If ROCt is the return on capital in period t and ROC t+1 is the return on capital in period t+1, the expected growth rate in operating income will be:</p>
<p><span class="math display">\[\text{Expected Growth Rate} = ROC_{t+1} \times \text{Reinvestment Rate} + \frac{(ROC_{t+1} – ROC_t)}{ROC_t}\]</span></p>
<p>If the change is over multiple periods, the second component should be spread out over each period.</p>
<h3 id="practice-motorolas-growth-rate">Practice: Motorola’s Growth Rate</h3>
<p>Motorola’s current return on capital is 12.18% and its reinvestment rate is 52.99%.</p>
<p>We expect Motorola’s return on capital to rise to 17.22% over the next 5 years (which is half way towards the industry average)</p>
<p><span class="math inline">\(\text{Expected Growth Rate} = ROC_{New Investments} \times \text{Reinvestment Rate}_{Current} + \frac{ROC_5}{ROC_0}^\frac{1}{5} - 1 = .1722\times.5299 +{ \frac{.1722}{.1218}^\frac{1}{5}-1} = .1629 \text{ or } 16.29\%\)</span></p>
<p>One way to think about this is to decompose Motorola’s expected growth into</p>
<ul>
<li>Growth from new investments: .1722*5299= 9.12%</li>
<li>Growth from more efficiently using existing investments: 16.29%-9.12%= 7.17%</li>
</ul>
<p>Note that I am assuming that the new investments start making 17.22% immediately, while allowing for existing assets to improve returns gradually</p>
<h1 id="growth-iv-top-down-growth">Growth IV: Top Down Growth</h1>
<h2 id="estimating-growth-when-operating-income-is-negative-or-margins-are-changing">Estimating Growth when Operating Income is Negative or Margins are changing</h2>
<p>All of the fundamental growth equations assume that the firm has a return on equity or return on capital it can sustain in the long term.</p>
<p>When operating income is negative or margins are expected to change over time, we use a three step process to estimate growth:</p>
<ul>
<li>Estimate growth rates in revenues over time
<ul>
<li>Determine the total market (given your business model) and estimate the market share that you think your company will earn.</li>
<li>Decrease the growth rate as the firm becomes larger</li>
<li>Keep track of absolute revenues to make sure that the growth is feasible</li>
</ul></li>
<li>Estimate expected operating margins each year
<ul>
<li>Set a target margin that the firm will move towards</li>
<li>Adjust the current margin towards the target margin</li>
</ul></li>
<li>Estimate the capital that needs to be invested to generate revenue growth and expected margins
<ul>
<li>Estimate a sales to capital ratio that you will use to generate reinvestment needs each year.</li>
</ul></li>
</ul>
<h2 id="tesla-in-july-2015-growth-and-profitability">Tesla in July 2015: Growth and Profitability</h2>
<img src="/2019/03/11/Growth/growth_4.png">
<h2 id="tesla-reinvestment-and-profitability">Tesla: Reinvestment and Profitability</h2>
<img src="/2019/03/11/Growth/growth_5.png">
<img src="/2019/03/11/Growth/growth_6.png">

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/09/Estimating-Cash-Flows/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/09/Estimating-Cash-Flows/" class="post-title-link" itemprop="url">Estimating Cash Flows</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-09 15:32:58 / Modified: 17:31:39" itemprop="dateCreated datePublished" datetime="2019-03-09T15:32:58-05:00">2019-03-09</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Equity-Valuation/" itemprop="url" rel="index"><span itemprop="name">Equity Valuation</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/09/Estimating-Cash-Flows/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/09/Estimating-Cash-Flows/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="steps-in-cash-flow-estimation">Steps in Cash Flow Estimation</h2>
<h3 id="estimate-the-current-earnings-of-the-firm">Estimate the current earnings of the firm</h3>
<ul>
<li>If looking at cash flows to equity, look at earnings after interest expenses, i.e., net income.</li>
<li>If looking at cash flows to firm, look at operating earnings after taxes.</li>
</ul>
<h3 id="consider-how-much-the-firm-invested-to-create-future-growth">Consider how much the firm invested to create future growth</h3>
<ul>
<li>If the investment is not expensed, it will be categroized as capital expenditures. To the extent that depreciaton provides a cash flow, it will cover some of these expenditures.</li>
<li>Increasing working capital needs are also investments for future growth.</li>
</ul>
<p>If looking at cash flows to equity, consider the cash flows from net debt issues (debt issued - debt repaid).</p>
<img src="/2019/03/09/Estimating-Cash-Flows/Measuring-Cash-Flows.png" title="Measuring Cash Flows">
<h2 id="measuring-fcff-three-ways-to-the-same-end-game">Measuring FCFF: Three ways to the same end game</h2>
<img src="/2019/03/09/Estimating-Cash-Flows/Measuring-Cash-Flows-Three-Pathways.png" title="Measuring Cash Flows">
<p><strong>Q:</strong> Where are the tax savings from interest expenses?<br>
<strong>A:</strong> The tax savings are counted in the cost of capital (after-tax cost of debt).</p>
<h1 id="cash-flows-i-accounting-earnings-flawed-but-important">Cash Flows I: Accounting Earnings, Flawed but Important</h1>
<h2 id="from-reported-to-actual-earnings">From Reported to Actual Earnings</h2>
<img src="/2019/03/09/Estimating-Cash-Flows/From-Reported-to-Acutal-Earnings.png" title="From Reported to Acutal Earnings">
<h2 id="update-earnings">Update Earnings</h2>
<p>When valuing companies, we often depend upon financial statements for inputs on earnings and assets. Annual reports are often outdated and can be updated by using-</p>
<ul>
<li>Trailing 12-month data, constructed from quarterly earnings reports.</li>
<li>Informal and unofficial news reports, if quarterly reports are unavailable.</li>
</ul>
<p>Updating makes the most difference for smaller and more volatile firms, as well as for firms that have undergone significant restructuring.</p>
<p><strong>Time saver</strong>: To get a trailing 12-month number, all you need is one 10K and one 10Q (example third quarter). Use the Year to date numbers from the 10Q. For example, to get trailing revenues from a third quarter 10Q:</p>
<p><span class="math inline">\(\text{Trailing 12-month Revenue} = \text{Revenues (in last 10K)} - \text{Revenues from first 3 quarters of last year} + \\ \text{Revenues from first 3 quarters of this year}\)</span></p>
<h2 id="correct-accounting-earnings">Correct Accounting Earnings</h2>
<p>Make sure that there are no <strong>financial expenses</strong> mixed in with operating expenses</p>
<ul>
<li>Financial expense: Any commitment that is <strong>tax deductible</strong> that you have to meet no matter what your operating results: Failure to meet it leads to loss of control of the business.</li>
<li>Example: Operating Leases: While accounting convention treats operating leases as operating expenses, they are really financial expenses and need to be reclassified as such. This has no effect on equity earnings but does change the operating earnings</li>
</ul>
<p>Make sure that there are no <strong>capital expenses</strong> mixed in with the operating expenses</p>
<ul>
<li>Capital expense: Any expense that is expected to generate <strong>benefits over multiple periods</strong>.</li>
<li>R&amp;D Adjustment: Since R&amp;D is a capital expenditure (rather than an operating expense), the operating income has to be adjusted to reflect its treatment.</li>
</ul>
<h2 id="dealing-with-operating-lease-expenses">Dealing with Operating Lease Expenses</h2>
<img src="/2019/03/09/Estimating-Cash-Flows/Magnitude-OL.png" title="Magnitude OL">
<p>Operating Lease Expenses are treated as operating expenses in computing operating income. In reality, operating lease expenses should be treated as financing expenses, with the following adjustments to earnings and capital:</p>
<p>Debt Value of Operating Leases = Present value of Operating Lease Commitments at the pre-tax cost of debt</p>
<p>When you convert operating leases into debt, you also create an asset to counter it of exactly the same value.</p>
<p>Adjusted Operating Earnings</p>
<ul>
<li><span class="math inline">\(\text{Adjusted Operating Earnings} = \text{Operating Earnings} + \text{Operating Lease Expenses} - \\ \text{Depreciation on Leased Asset}\)</span></li>
</ul>
<p>As an approximation, this works:</p>
<ul>
<li><span class="math inline">\(\text{Adjusted Operating Earnings} = \text{Operating Earnings} + \\ \text{Pre-tax cost of Debt} \times \text{PV of Operating Leases}\)</span></li>
</ul>
<h3 id="operating-leases-at-the-gap-in-2003">Operating Leases at The Gap in 2003</h3>
<p>The Gap has conventional debt of about <code>$1.97</code> billion on its balance sheet and its pre-tax cost of debt is about 6%. Its operating lease payments in the 2003 were <code>$978</code>million and its commitments for the future are below:</p>
<table>
<thead>
<tr class="header">
<th>Year</th>
<th>Commitment (millions)</th>
<th>Present Value (at 6%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>$899.00</td>
<td>$848.11</td>
</tr>
<tr class="even">
<td>2</td>
<td>$846.00</td>
<td>$752.94</td>
</tr>
<tr class="odd">
<td>3</td>
<td>$738.00</td>
<td>$619.64</td>
</tr>
<tr class="even">
<td>4</td>
<td>$598.00</td>
<td>$473.67</td>
</tr>
<tr class="odd">
<td>5</td>
<td>$477.00</td>
<td>$356.44</td>
</tr>
<tr class="even">
<td>6&amp;7</td>
<td>$982.50 each year</td>
<td>$1,346.04</td>
</tr>
</tbody>
</table>
<ul>
<li>Debt Value of leases = <code>$4,396.85</code> (Also value of leased asset)</li>
<li>Debt outstanding at The Gap = <code>$1,970</code> + <code>$4,397</code> = <code>$6,367</code></li>
<li>Adjusted Operating Income = Stated OI + OL exp this year - Deprecion = <code>$1,012</code> + <code>$978</code> - <code>$4397</code> /7 = <code>$1,362</code> million (7 year life for assets)</li>
<li>Approximate OI = <code>$1,012</code> + <code>$4397</code>(.06) = <code>$1,276</code></li>
</ul>
<h3 id="the-collateral-effects-of-treating-operating-leases-as-debt">The Collateral Effects of Treating Operating Leases as Debt</h3>
<img src="/2019/03/09/Estimating-Cash-Flows/OL-Effects.png" title="OL Effects">
<h2 id="rd-expenses-operating-or-capital-expenses">R&amp;D Expenses: Operating or Capital Expenses</h2>
<img src="/2019/03/09/Estimating-Cash-Flows/Magnitude-RD.png" title="Magnitude RD">
<p>Accounting standards require us to consider R&amp;D as an operating expense even though it is designed to generate future growth. It is more logical to treat it as capital expenditures.</p>
<p>To capitalize R&amp;D,</p>
<ul>
<li>Specify an amortizable life for R&amp;D (2 - 10 years)</li>
<li>Collect past R&amp;D expenses for as long as the amortizable life</li>
<li>Sum up the unamortized R&amp;D over the period. (Thus, if the amortizable life is 5 years, the research asset can be obtained by adding up 1/5th of the R&amp;D expense from five years ago, 2/5th of the R&amp;D expense from four years ago...</li>
</ul>
<h3 id="capitalizing-rd-expenses-sap">Capitalizing R&amp;D Expenses: SAP</h3>
<p>R &amp; D was assumed to have a 5-year life.</p>
<table>
<thead>
<tr class="header">
<th>Year</th>
<th>R&amp;D Expense</th>
<th>Unamortized %</th>
<th>Unamortized Amount</th>
<th>Amortization this year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Current</td>
<td>1020.02</td>
<td>1</td>
<td>1020.02</td>
<td></td>
</tr>
<tr class="even">
<td>-1</td>
<td>993.99</td>
<td>0.8</td>
<td>795.19</td>
<td>€ 198.80</td>
</tr>
<tr class="odd">
<td>-2</td>
<td>909.39</td>
<td>0.6</td>
<td>545.63</td>
<td>€ 181.88</td>
</tr>
<tr class="even">
<td>-3</td>
<td>898.25</td>
<td>0.4</td>
<td>359.3</td>
<td>€ 179.65</td>
</tr>
<tr class="odd">
<td>-4</td>
<td>969.38</td>
<td>0.2</td>
<td>193.88</td>
<td>€ 193.88</td>
</tr>
<tr class="even">
<td>-5</td>
<td>744.67</td>
<td>0</td>
<td>0</td>
<td>€ 148.93</td>
</tr>
</tbody>
</table>
<ul>
<li>Value of research asset = € 2,914 million</li>
<li>Amortization of research asset in 2004 = € 903 million</li>
<li>Increase in Operating Income = 1020 - 903 = € 117 million</li>
</ul>
<img src="/2019/03/09/Estimating-Cash-Flows/RD-Effects.png" title="ED Effects">
<h2 id="accounting-malfeasance">Accounting Malfeasance</h2>
<p>Though all firms may be governed by the same accounting standards, the fidelity that they show to these standards can vary. More aggressive firms will show higher earnings than more conservative firms.</p>
<p>While you will not be able to catch outright fraud, you should look for warning signals in financial statements and correct for them:</p>
<ul>
<li>Income from unspecified sources - holdings in other businesses that are not revealed or from special purpose entities.</li>
<li>Income from asset sales or financial transactions (for a non-financial firm)</li>
<li>Sudden changes in standard expense items - a big drop in S,G &amp;A or R&amp;D expenses as a percent of revenues, for instance.</li>
<li>Frequent accounting restatements</li>
<li>Accrual earnings that run ahead of cash earnings consistently</li>
<li>Big differences between tax income and reported income</li>
</ul>
<h2 id="dealing-with-negative-or-abnormally-low-earnings">Dealing with Negative or Abnormally Low Earnings</h2>
<img src="/2019/03/09/Estimating-Cash-Flows/Dealing-with-Negative-or-Abnormally-Low-Earnings.png" title="Dealing with Negative or Abnormally Low Earnings">
<p>To decide what to do when your firm is losing money, you first have to diagnose the problem. If the problem is transitory (a recession, a loss caused by a strike), you can normalize earnings instantaneously and use the normalized earnings in valuation.</p>
<ul>
<li>If it is <strong>long term</strong>, you have to first figure out what the long term problem is.</li>
<li>If it is <strong>financial</strong> - the firm has too much debt - you have to consider whether the firm can pay down its debt and survive. If you believe it can, lower the debt ratio each year and compute a cost of capital.</li>
<li>If it is <strong>operating</strong> or <strong>strategic</strong> - you have to work out what it will cost the firm to fix these problems- and build the expected improvement in margins over time.</li>
<li>If it is <strong>life cycle</strong> related - the firm is in early stage of its life cycle and it is normal to lose money at that stage - you have to build in the expectations of the improvements that will occur as the firm moves up the life cycle (with a healthy dose of skepticism about whether the firm will make it).</li>
</ul>
<h1 id="cash-flows-ii-taxes-and-reinvestment">Cash Flows II: Taxes and Reinvestment</h1>
<h2 id="what-tax-rate">What tax rate?</h2>
<p>The tax rate that you should use in computing the after-tax operating income should be</p>
<ol type="1">
<li>The effective tax rate in the financial statements (taxes paid/Taxable income)</li>
<li>The tax rate based upon taxes paid and EBIT (taxes paid/EBIT)</li>
<li>The marginal tax rate for the country in which the company operates</li>
<li>The weighted average marginal tax rate across the countries in which the company operates</li>
<li>None of the above</li>
<li>Any of the above, as long as you compute your after-tax cost of debt using the same tax rate</li>
</ol>
<p>The effective tax rate is defined as taxes paid/ taxable income, as defined in the reporting books. The marginal tax rate is the tax rate on the last dollar of income. The effective tax rate is lower than the marginal tax rate for most firms. Why?</p>
<ul>
<li>Bracket creep: Can be a reason for small private businesses but not for large publicly traded firms where most of the income is at the highest marginal tax rate anyway.</li>
<li>Cosmetic factors: Two sets of books with different accounting standards for tax and reporting books.</li>
<li>Real factors: Capacity to defer taxes to the future.</li>
</ul>
<h2 id="the-right-tax-rate-to-use">The Right Tax Rate to Use</h2>
<p>The choice really is between the effective and the marginal tax rate. In doing projections, it is far safer to use the marginal tax rate since the effective tax rate is really a reflection of the difference between the accounting and the tax books.</p>
<p>By using the marginal tax rate, we tend to understate the after-tax operating income in the earlier years, but the after-tax tax operating income is more accurate in later years.</p>
<p>If you choose to use the effective tax rate, adjust the tax rate towards the marginal tax rate over time.</p>
<ul>
<li>While an argument can be made for using a weighted average marginal tax rate, it is safest to use the marginal tax rate of the country</li>
</ul>
<p>If you have a choice, you would prefer to do valuation with the tax books in front of you, but since you do not have that choice as an outsider you have to choose between the effective tax rate and the marginal tax rate.</p>
<p>If you use the effective tax rate all the way through, you are assuming that taxes can be deferred forever. This is unrealistic - tax deferrals catch up with you as your growth flags - and will result in an overvaluation of your firm.</p>
<p>If you use a marginal tax rate, you are assuming that you cannot defer taxes from this point on. This is far too conservative and will yield too low a value for your firm.</p>
<p><strong>Suggestion</strong>: Start with the effective tax rate in the early years and move towards the marginal tax rate in the terminal year.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/06/Knapsack-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/06/Knapsack-Problem/" class="post-title-link" itemprop="url">Knapsack Problem</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-06 17:29:37" itemprop="dateCreated datePublished" datetime="2019-03-06T17:29:37-05:00">2019-03-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-08 17:32:53" itemprop="dateModified" datetime="2019-03-08T17:32:53-05:00">2019-03-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/06/Knapsack-Problem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/06/Knapsack-Problem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="knapsack-problem">Knapsack Problem</h1>
<h2 id="problem">Problem</h2>
<h3 id="input">Input:</h3>
<p>S[1..n] and V[1..n] - arrays of positive intergers positive integer C (capacity)</p>
<h3 id="output">Output:</h3>
<p>Subset of items that fit into the knopsock and give max value</p>
<h3 id="example">Example</h3>
<p>C = 8 | S | V | |---|----| | 1 | 15 | | 5 | 10 | | 3 | 9 | | 4 | 5 |</p>
<h2 id="solution">Solution</h2>
<h3 id="possible-solution">Possible solution</h3>
<p>Consider all subsets and choose the best Complexity <span class="math inline">\(O(n2^n)\)</span></p>
<h3 id="open-question">Open question</h3>
<p>Can we do in polynomial time in n</p>
<h3 id="notation">Notation</h3>
<p><code>K[i,j]</code>- the best value we can get with the capacity i and items from 1st to jth</p>
<h3 id="base-cases">Base Cases</h3>
<p><code>K[0, j]</code> = 0; K[i, 0] = 0</p>
<h3 id="recurvie-steps">Recurvie steps</h3>
<p>Two options</p>
<ol type="1">
<li>Do not take the <span class="math inline">\(j^{th}\)</span> item<br>
<code>K[i, j-1]</code></li>
<li>Do take the <span class="math inline">\(j^{th}\)</span> item<br>
<code>K[i-S[j], j-1] + V[j]</code></li>
</ol>
<p><code>K[i, j]</code> = <code>max(K[i, j-1], K[i-S[j], j-1] + V[j])</code></p>
<h3 id="pseudocode">Pseudocode</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Knapsack(C,;; S[1..n], V[1..n])</span><br><span class="line">    init look[0..C, 0..n] with -1&apos;s</span><br><span class="line">    return K(C, n;; S, V, look)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function K(i, j;; S, V, look)</span><br><span class="line">    if look[i, j] != -1</span><br><span class="line">        return look[i,j]</span><br><span class="line">    if j = 0 or i = 0</span><br><span class="line">        look[i, j]</span><br><span class="line">    else</span><br><span class="line">        look[i, j] = max(K(i, j-1, S, V, look), K(i-S[i], j-1, S, V, look)+V[j])</span><br><span class="line">    return look[i,j]</span><br></pre></td></tr></table></figure>
<h3 id="complexity">Complexity</h3>
<p><span class="math inline">\(O(nC)\)</span><br>
Each recursive call takes constant time <code>O(1)</code></p>
<p>For every i, j K(i, j, S, V, look) can be done at most 2 times, namely from K(i, j+1) and K(i+S[j+1], j+1) &lt;= 2(n+1)(c+1)</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Anpu Li">
            
              <p class="site-author-name" itemprop="name">Anpu Li</p>
              <p class="site-description motion-element" itemprop="description">Thoughts, Works, and Collection</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
              
            </div></nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ANPULI" title="GitHub &rarr; https://github.com/ANPULI" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:anpu.li@nyu.edu" title="E-Mail &rarr; mailto:anpu.li@nyu.edu" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          
        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anpu Li</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>





  <script>
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=66179549";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>





        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>




  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  
  <script id="dsq-count-scr" src="https://anpuli.disqus.com/count.js" async></script>







  




  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: "AMS"
      }
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
      for (i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<style>
.MathJax_Display {
  overflow: auto hidden;
}
</style>

    
  


  

  

  

  

  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":0.5,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-100},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
