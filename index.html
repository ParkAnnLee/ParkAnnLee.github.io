<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Thoughts, Works, and Collection">
<meta property="og:type" content="website">
<meta property="og:title" content="Anpu&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Anpu&#39;s Blog">
<meta property="og:description" content="Thoughts, Works, and Collection">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anpu&#39;s Blog">
<meta name="twitter:description" content="Thoughts, Works, and Collection">






  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Anpu's Blog</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-134859175-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-134859175-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Anpu's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-works">

    
    
    
      
    

    

    <a href="/works/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Works</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/ANPULI" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/06/Knapsack-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/06/Knapsack-Problem/" class="post-title-link" itemprop="url">Knapsack Problem</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-06 17:29:37" itemprop="dateCreated datePublished" datetime="2019-03-06T17:29:37-05:00">2019-03-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-08 17:32:53" itemprop="dateModified" datetime="2019-03-08T17:32:53-05:00">2019-03-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/06/Knapsack-Problem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/06/Knapsack-Problem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="knapsack-problem">Knapsack Problem</h1>
<h2 id="problem">Problem</h2>
<h3 id="input">Input:</h3>
<p>S[1..n] and V[1..n] - arrays of positive intergers positive integer C (capacity)</p>
<h3 id="output">Output:</h3>
<p>Subset of items that fit into the knopsock and give max value</p>
<h3 id="example">Example</h3>
<p>C = 8 | S | V | |---|----| | 1 | 15 | | 5 | 10 | | 3 | 9 | | 4 | 5 |</p>
<h2 id="solution">Solution</h2>
<h3 id="possible-solution">Possible solution</h3>
<p>Consider all subsets and choose the best Complexity <span class="math inline">\(O(n2^n)\)</span></p>
<h3 id="open-question">Open question</h3>
<p>Can we do in polynomial time in n</p>
<h3 id="notation">Notation</h3>
<p><code>K[i,j]</code>- the best value we can get with the capacity i and items from 1st to jth</p>
<h3 id="base-cases">Base Cases</h3>
<p><code>K[0, j]</code> = 0; K[i, 0] = 0</p>
<h3 id="recurvie-steps">Recurvie steps</h3>
<p>Two options</p>
<ol type="1">
<li>Do not take the <span class="math inline">\(j^{th}\)</span> item<br>
<code>K[i, j-1]</code></li>
<li>Do take the <span class="math inline">\(j^{th}\)</span> item<br>
<code>K[i-S[j], j-1] + V[j]</code></li>
</ol>
<p><code>K[i, j]</code> = <code>max(K[i, j-1], K[i-S[j], j-1] + V[j])</code></p>
<h3 id="pseudocode">Pseudocode</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Knapsack(C,;; S[1..n], V[1..n])</span><br><span class="line">    init look[0..C, 0..n] with -1&apos;s</span><br><span class="line">    return K(C, n;; S, V, look)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function K(i, j;; S, V, look)</span><br><span class="line">    if look[i, j] != -1</span><br><span class="line">        return look[i,j]</span><br><span class="line">    if j = 0 or i = 0</span><br><span class="line">        look[i, j]</span><br><span class="line">    else</span><br><span class="line">        look[i, j] = max(K(i, j-1, S, V, look), K(i-S[i], j-1, S, V, look)+V[j])</span><br><span class="line">    return look[i,j]</span><br></pre></td></tr></table></figure>
<h3 id="complexity">Complexity</h3>
<p><span class="math inline">\(O(nC)\)</span><br>
Each recursive call takes constant time <code>O(1)</code></p>
<p>For every i, j K(i, j, S, V, look) can be done at most 2 times, namely from K(i, j+1) and K(i+S[j+1], j+1) &lt;= 2(n+1)(c+1)</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/01/Discount-Rates/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/01/Discount-Rates/" class="post-title-link" itemprop="url">Discount Rates</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-01 18:07:17" itemprop="dateCreated datePublished" datetime="2019-03-01T18:07:17-05:00">2019-03-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-09 12:10:00" itemprop="dateModified" datetime="2019-03-09T12:10:00-05:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Equity-Valuation/" itemprop="url" rel="index"><span itemprop="name">Equity Valuation</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/03/01/Discount-Rates/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/01/Discount-Rates/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="discount-rates">Discount Rates</h1>
<p>The discount rate should be consistent with both the riskness and the type of cash flows being discounted.</p>
<ul>
<li><strong>Equity verus Firm</strong>: If FCFE, then use cost of equity. IF FCFF, then use cost of capital.<br>
</li>
<li><strong>Currency</strong>: Cash flows in different currencies shall have different discount rates.</li>
<li><strong>Nomial versus Real</strong>: Nomial cash flows -&gt; nomial rates. Real cash flows -&gt; real rates.</li>
</ul>
<h3 id="types-of-risks">Types of Risks</h3>
<ul>
<li>Estimation VS Economic uncertainty
<ul>
<li>Estimation uncertainty reflects the possibility of having the wrong models or wrong inputs in the model.</li>
<li>Economic uncertainty originates from the fact that markets and economies can change over time and models (even the best) will fail to capture the unexpected changes.</li>
</ul></li>
<li>Micro VS Macro uncertainty
<ul>
<li>Micro uncertainty refers to the uncertainty about a single frim, e.g. the potential markets for its products, the comptetion, the management, etc.</li>
<li>Macro uncertainty refers to the uncertainty of the whole market that the firm can be affected by the changes in the macro economic environment.</li>
</ul></li>
<li>Discrete VS Continuous uncertainty
<ul>
<li>Discrete risk lies dormant for periods but show up at points in time. For example, a drug working its way through the FDA pipeline may fail at some stage of approval process.</li>
<li>Continuous risk are risks that changes in interest rates or economic growth occur continuously and affect value as they happen.</li>
</ul></li>
</ul>
<h3 id="the-role-of-the-marginal-investor">The Role of the Marginal Investor</h3>
<h4 id="not-all-risk-counts">Not all risk counts</h4>
<p>The sense that cost of equity should be higher for riskier investments and lower for safer investments is intuitive. But what risk should be built into it?</p>
<h4 id="risk-through-whose-eyes">Risk through whose eyes?</h4>
<p>While risk is usually defined in terms of the variance of actual returns around an expected return, risk and retur nmodels in finance assume that the risk to be rewarded is hte risk perceived by the margianl investor in the investment.</p>
<h4 id="the-diversification-effect">The diversification effect</h4>
<p>Most risk and return models in finance also assume that the marginal investor is well diversified, and that the only risk that he perceives in an investment is the risk that cannot be diverisified away, a.k.a market or non-diversifiable risk. In effect, it is primarily economic, macro, continuous risk that should be incorporated into the cost of equity.</p>
<h3 id="competing-market-risk-models">Competing "Market Risk" Models</h3>
<table>
<colgroup>
<col style="width: 8%">
<col style="width: 24%">
<col style="width: 67%">
</colgroup>
<thead>
<tr class="header">
<th>Model</th>
<th>Expected Return</th>
<th>Inputs Needed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CAPM</td>
<td><span class="math inline">\(E(R)=R_f+\beta(R_m-R_f)\)</span></td>
<td>Riskfree Rate <br> Beta relative to the market portfolio <br> Market Risk Premium</td>
</tr>
<tr class="even">
<td>APM</td>
<td><span class="math inline">\(E(R)=R_f+\sum \beta_j(R_j-R_f)\)</span></td>
<td>Riskfree Rate; # of factors <br> Betas for each factor <br> Factor risk premiums</td>
</tr>
<tr class="odd">
<td>Multifactor</td>
<td><span class="math inline">\(E(R)=R_f+\sum \beta_j(R_j-R_f)\)</span></td>
<td>Riskfree Rate; Macro factors <br> Betas for macro factor <br> Macroeconomic risk premiums</td>
</tr>
<tr class="even">
<td>Proxy</td>
<td><span class="math inline">\(E(R)=a+\sum \beta_jY_j\)</span></td>
<td>Proxies <br> Regression coefficients</td>
</tr>
</tbody>
</table>
<p>In the CAPM, the cost of equity: <span class="math display">\[\text{Cost of Equity} = \text{Riskfree Rate} + \text{Equity Beta}\times\text{Equity Risk Premium}\]</span></p>
<p>To use any risk and return model, you need</p>
<ul>
<li>A risk free rate as a base</li>
<li>A single equity risk premium (in the CAPM) or factor risk premiums in the multifactor models</li>
<li>A beta (in the CAPM) or betas (in multifactor models)</li>
</ul>
<h2 id="discount-rate-i-the-riskfree-rate">Discount Rate I: The Riskfree Rate</h2>
<p>On a riskfree investment, the actural return is equal to the expected return. Therefore, there is no variance around the expected return.</p>
<p>For an investment to be risk free, it has to have:</p>
<ul>
<li>No default risk</li>
<li>No reinvestment risk</li>
</ul>
<p>It follows then that if asked to estimate a risk free rate:</p>
<ol type="1">
<li><strong>Timeline matters</strong>: The risk free rates will depend on when the cash flow is expected to occur and will vary across time. (1yr, 2yrs, 10yrs will generate different rates)</li>
<li><strong>Currency matters</strong>: A risk free rate is currency-specific and can be different for different currencies.</li>
<li><strong>Not all government securites are risk free</strong>: Some governments face default risk so the rates on the bonds issued are not risk free.</li>
</ol>
<h3 id="three-ways-to-sovereign-default-spread">Three Ways to Sovereign Default Spread</h3>
<ol type="1">
<li><strong>Sovereign dollar/euro denomiated bonds</strong>: Find soverign bonds denomiated in US dollars issued by an emerging sovereign.
<ul>
<li>Default spread = Emerging Government Bond Rate (in US $) - US Treasury Bond Rate with the same maturity</li>
</ul></li>
<li><strong>CDS spreads</strong>: Obtain the trated value for a sovereign Credit Default Swap (CDS) for the emerging government.
<ul>
<li>Defalut spread = Sovereign CDS spread (with perhaps adjustment for CDS market frictions)</li>
</ul></li>
<li><strong>Sovereign-rating bashed spread</strong>: Average of the spread for other countries with the same sovereign rating.</li>
</ol>
<h4 id="example">Example</h4>
<p>The Brazilian government bond rate in nominal reais on January 1, 2019 was 9.18%. To get to a riskfree rate in nominal reais, we can use one of three approaches.</p>
<ul>
<li>Approach 1: Government Bond spread
<ul>
<li>The 2023 Brazil bond, denominated in US dollars, has a spread of 1.30% over the US treasury bond rate.</li>
<li>Riskfree rate in $R = 9.18% - 1.30% = 7.88%</li>
</ul></li>
<li>Approach 2: The CDS Spread
<ul>
<li>The CDS spread for Brazil, adjusted for the US CDS spread was 2.57%.</li>
<li>Riskfree rate in $R = 9.18% - 2.57% = 6.61%</li>
</ul></li>
<li>Approach 3: The Rating based spread
<ul>
<li>Brazil has a Ba2 local currency rating from Moody’s. The default spread for that rating is 3.39%</li>
<li>Riskfree rate in $R = 9.18% - 3.39% = 5.79%</li>
</ul></li>
</ul>
<h3 id="alternative-approach">Alternative Approach</h3>
<ol type="1">
<li>Build up approach: The risk free rate in any country can be written as the sum of two variables: <span class="math display">\[\text{Risk free rate} = \text{Expected Inflation in currency} + \text{Expected real interest rate}\]</span> The expected real interest rate can be computed in two ways:
<ol type="1">
<li>US TIPs</li>
<li>Real growth in the economy Thus, if the expected inflation rate in a country is 15% and the TIPs rate is 1%, the risk free rate is 16%.</li>
</ol></li>
<li>US rate &amp; Differential Inflation: Alternatively, you can scale up the US risk free rate by the differential inflation between the US and the currency in question <span class="math display">\[\text{Riskfree Rate}_{Currency} = (1 + \text{Riskfree Rate}_{US\$})\frac{1 + \text{Expected Inflation}_{Currency}}{1 + \text{Expected Inflation}_{US\$}} - 1\]</span> Thus, if the US dollar risk free rate is 2.00%, the inflation rate in the foreign currency is 15% and the inflation rate in US dollar is 1.5%, the foreign currency risk free rate is: <span class="math display">\[\text{Riskfree Rate} = 1.02\frac{1.15}{1.015} = 15.57\%\]</span></li>
</ol>
<h3 id="negative-interest-rates">Negative Interest Rates</h3>
<p>TBD</p>
<h2 id="discount-rates-ii-the-equity-risk-premium">Discount Rates II: The Equity Risk Premium</h2>
<h3 id="simplest-way-the-country-default-spread">Simplest Way: The Country Default Spread</h3>
<ul>
<li><strong>Default spread for country</strong>: In this approach, the country equity risk premium is set equal to the default spread for the country, estimated in one of three ways:
<ul>
<li>The default spread on a dollar denominated bond issued by the country. (In January 2019, that spread was the yield for the Brazilian US dollar bond) was 1.30%.</li>
<li>The sovereign CDS spread for the country. In January 2019, the ten year CDS spread for Brazil, adjusted for the US CDS, was 2.57%.</li>
<li>The default spread based on the local currency rating for the country. Brazil’s sovereign local currency rating is Ba2 and the default spread for a Ba2 rated sovereign was about 3.39% in January 2019.</li>
</ul></li>
<li>Add the default spread to a “mature” market premium: This default spread is added on to the mature market premium to arrive at the total equity risk premium for Brazil, assuming a mature market premium of 5.96%.
<ul>
<li>Country Risk Premium for Brazil = 3.39% (Using the Ba2 CDS)</li>
<li>Total ERP for Brazil = 5.96% + 3.39% = 9.35%</li>
</ul></li>
</ul>
<h3 id="an-equity-volatility-based-approach">An Equity Volatility Based Approach</h3>
<p>This approach drwas on the standard deviation of two equity markets, the emerging market in question and a base market (usually the US). The total equity risk premium (ERP) for the emerging markte is then written as: <span class="math display">\[\text{Total ERP} = \text{Risk Premium}_{\text{US}}\times\frac{\sigma_{\text{Country Equity}}}{\sigma_{\text{US Equity}}}\]</span></p>
<p>Example:</p>
<ol type="1">
<li>Assume the ERP for the US is 5.69%</li>
<li>Assume the standard deviation in the Bovespa (Brazilian equity) is 30% and the standard deviation for the S&amp;P 500 (US equity) is 18%.</li>
<li>Total ERP for Brazil <span class="math inline">\(= 5.95\%\times\frac{30\%}{18\%}=9.93\%\)</span></li>
<li>Country equity risk premium for Brazil <span class="math inline">\(= 9.93\%-5.96\%=3.97\%\)</span></li>
</ol>
<h3 id="a-melded-approach-to-estimating-the-additional-country-erp">A Melded Approach to Estimating the Additional Country ERP</h3>
<p>Country ratings measure default resk. While default risk permiums and equity risk premiums are highly correlated, one would expect equity spreads to be higher than debt spreads.</p>
<p>Hence, a practice is to multiply the bond default spread by the relative volatility of stock and bond prices in that market. Using this approach for Brazil in January 2019, we would get:</p>
<ul>
<li><span class="math inline">\(\text{Country ERP} = \text{Default spread on country bond}\times\frac{\sigma_\text{Country Equity}}{\sigma_\text{Country Bond}}\)</span>
<ul>
<li>Standard Deviation in Bovespa <span class="math inline">\(= 30\%\)</span></li>
<li>Standard Deviation in Brazil government bond <span class="math inline">\(= 20\%\)</span></li>
<li>Default spread for Brazil <span class="math inline">\(= 3.39\%\)</span></li>
</ul></li>
<li>Brazil Country Euqity Risk Premium <span class="math inline">\(= 3.39\%\times\frac{30\%}{20\%} = 5.09\%\)</span></li>
<li>Brazil Total ERP <span class="math inline">\(=\)</span> Mature Market Premium + CRP <span class="math inline">\(= 5.96\% + 5.09\% = 11.05\%\)</span></li>
</ul>

<h3 id="from-country-equity-risk-premiums-to-corporate-equity-risk-premiums">From Country Equity Risk Premiums to Corporate Equity Risk Premiums</h3>
<ol type="1">
<li>Assume that every company in the country is equally exposed to country risk. In this case,
<ul>
<li><span class="math inline">\(\text{E(Return)} = \text{Riskfree Rate} + \text{CRP} + \text{Beta(Mature ERP)}\)</span></li>
<li>Implicitly, this is what you are assuming when you use the local government's dollar borrowing rate as your risk free rate. (Fake riskfree = real + crp)</li>
</ul></li>
<li>Assume that a company's exposure to country risk is similar to its exposure to other market risk.
<ul>
<li><span class="math inline">\(\text{E(Return)} = \text{Riskfree Rate} + \text{Beta(Mature ERP + CRP)}\)</span></li>
</ul></li>
<li>Treat country risk as a separate risk factor and allow firms to have different exposures to country risk (perhaps based upon the proportion of their revenues com from non-domestiv sales)
<ul>
<li><span class="math inline">\(\text{E(Return)} = \text{Riskfree Rate} + x\cdot\text{Mature ERP} + y\cdot\text{CRP}\)</span></li>
</ul></li>
</ol>
<p>Mature ERP = Mature Market Equity Risk Premium<br>
CRP = Additional Country Risk Premium</p>
<h4 id="approaches-12-estimating-country-risk-premium-exposure">Approaches 1&amp;2: Estimating country risk premium exposure</h4>
<ul>
<li><strong>Location-based CRP</strong>: The standard approach in valuation is to attach a country risk premium to a company based on its country of incorporation. Thus, if you are an Indian company, you are assumed to be exposed to the Indian country risk premium. A developed market company is assumed to be unexposed to emerging market risk.</li>
<li><strong>Operation-based CRP</strong>: This is a more reasonable modified version. The country risk premium for a company can be computed as a weighted average of the country risk premiums fo the countries that it does business in, with the weights based on revenues or operating income. If a company is exposed to risk in dozens of countries, you can take a weighted average of the risk premiums by region.</li>
</ul>
<h4 id="operation-based-crp-single-versus-multiple-emerging-markets">Operation-based CRP: Single versus Multiple Emerging Markets</h4>
<ul>
<li><strong>Single emerging market</strong>: Embraer, in 2004, reported that it derived 3% of its revenues in Brazil and the balance from mature markets. The mature market ERP in 2004 was 5% and Brazil's CRP was 7.89%.</li>
</ul>
<table>
<thead>
<tr class="header">
<th></th>
<th>Revenues</th>
<th>Total ERP</th>
<th>CRP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>US and other mature markets</td>
<td>97%</td>
<td>5.00%</td>
<td>0.00%</td>
</tr>
<tr class="even">
<td>Brazil</td>
<td>3%</td>
<td>12.89%</td>
<td>7.89%</td>
</tr>
<tr class="odd">
<td><strong>Embraer</strong></td>
<td></td>
<td><strong>5.24%</strong></td>
<td><strong>0.24%</strong></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Multiple emerging markets</strong>: Ambev, the Brazilian-based beverage company, reported revenues from the follwing countries during 2011.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Revenues</th>
<th style="text-align: center;">%</th>
<th style="text-align: center;">Total ERP</th>
<th style="text-align: center;">CRP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Argentina</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">9.31%</td>
<td style="text-align: center;">15.00%</td>
<td style="text-align: center;">9.00%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Bolivia</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1.96%</td>
<td style="text-align: center;">10.88%</td>
<td style="text-align: center;">4.88%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Brazil</td>
<td style="text-align: center;">130</td>
<td style="text-align: center;">63.73%</td>
<td style="text-align: center;">8.63%</td>
<td style="text-align: center;">2.63%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Canada</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">11.27%</td>
<td style="text-align: center;">6.00%</td>
<td style="text-align: center;">0.00%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Chile</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">3.43%</td>
<td style="text-align: center;">7.05%</td>
<td style="text-align: center;">1.05%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Ecuador</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">2.94%</td>
<td style="text-align: center;">12.75%</td>
<td style="text-align: center;">6.75%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Paraguay</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">1.47%</td>
<td style="text-align: center;">12.00%</td>
<td style="text-align: center;">6.00%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Peru</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">5.88%</td>
<td style="text-align: center;">9.00%</td>
<td style="text-align: center;">3.00%</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Ambev</strong></td>
<td style="text-align: center;"><strong>204</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>9.11%</strong></td>
<td style="text-align: center;"><strong>3.11%</strong></td>
</tr>
</tbody>
</table>
<h4 id="problems-with-these-approaches">Problems with these approaches</h4>
<ul>
<li><strong>Focus just on revenues</strong>: To the extent that revenues are the only variable that you consider, when weighting risk exposure across markets, you may be missing other exposures to country risk. For instance, an emerging market company that gets the bulk of its revenues outside the country (in a developed market) may still have all of its production facilities in the emerging market.</li>
<li><strong>Exposure not adjusted or based upon beta</strong>: To the extent that the country risk premium is multiplied by a beta, we are assuming that beta in addition to measuring exposure to all other macro economic risk also measures exposure to country risk.</li>
</ul>
<h4 id="approach-3-estimate-a-lambda-for-country-risk">Approach 3: Estimate a lambda for country risk</h4>
<p>Country risk exposure is affected by where you get your revenues and where your production happens, but there are a host of other variables that also affect this exposure, including:</p>
<ul>
<li>Use of risk management products: Companies can use both options/futures markets and insurance to hedge some or a significant portion of country risk.</li>
<li>Government "national" interests: There are sectores that are vieewed as vital to the national interests, and governments oftern play a key role in these companies, either officially or unofficially. These sectores are more exposed to country risk.</li>
</ul>
<p>It is conceivable that there is a richer mersure of country risk that incorporated all of the variables that drive country risk in one measure. That is "lambda" by A.</p>
<h4 id="a-revenue-based-lambda">A revenue-based lambda</h4>
<p>The factor <span class="math inline">\(\lambda\)</span> measures the relative exposure of a firm to country risk. One simplistic solution would be to fo the following: <span class="math display">\[ \lambda = \frac{\text{\% of revenues domestically}_{firm}}{\text{\% of revenues domecstically}_{average\ firm}} \]</span></p>
<p>Consider two firms - Tata Motors and Tata Consulting Services, both Indian companies. In 2008-2009, Tata Motors got about 91.37% of its revenues in India and TCS got 7.62%. The average Indian firm gets about 80% of tis revenues in India:<br>
<span class="math inline">\(\lambda_{TM} = \frac{91\%}{80\%} = 1.14\)</span><br>
<span class="math inline">\(\lambda_{TCS} = \frac{7.62\%}{80\%} = 0.09\)</span></p>
<p>There are two implications</p>
<ol type="1">
<li>A company's risk exposure is determined by where it does business and not by where it is incorporated.</li>
<li>Firms might be able to actively manage their country risk exposures.</li>
</ol>
<h3 id="something-to-be-continued">Something to be continued</h3>
<h2 id="discount-rates-iii-relative-risk-measures">Discount Rates III: Relative Risk Measures</h2>
<h3 id="the-capm-beta-the-most-used-yet-misused-risk-measure">The CAPM Beta: The Most Used (yet Misused) Risk Measure</h3>
<p>The standard procedure for estimating betas is to regress stock returns <span class="math inline">\(R_j\)</span> against market return <span class="math inline">\(R_m\)</span><br>
<span class="math display">\[ R_j = a + bR_m \]</span> where <span class="math inline">\(a\)</span> is the intercept and <span class="math inline">\(b\)</span> is the slope of the regression</p>
<p>The slope fo the regression corresponds to the beta of the stock, and measuresthe riskiness of the stock.</p>
<p>This beta has three problems:</p>
<ol type="1">
<li>It has high standard error.</li>
<li>It reflects the firm's business mix over the period of the regression, not the current mix.</li>
<li>It reflects the firm's average finanical leverage over the period rater than the current leverage.</li>
</ol>


<h3 id="adjusting-for-financial-leverage">Adjusting for financial leverage</h3>
<ul>
<li><strong>Conventional approach</strong>: If we assume that debt carries no market risk (has a beta of zero), the beta of equity alone can be written as a function of the unlevered beta and the debt-equity ratio<br>
<span class="math inline">\(\beta_L = \beta_U(1 + (1-t)\frac{D}{E})\)</span><br>
In some versions, the tax effect is ignored and there is no (1-t) in the eqution</li>
<li><strong>Debt adjusted approach</strong>: If beta carries market risk and you can estimate the beta of debt, you can estimate the levered beta as follows<br>
<span class="math inline">\(\beta_L = \beta_U(1 + (1-t)\frac{D}{E}) - \beta_{debt}(1-t)\frac{D}{E}\)</span><br>
While the latter is more realistic, estimating betas for debt can be difficult to do.</li>
</ul>

<h3 id="why-bottom-up-betas">Why Bottom-up Betas?</h3>
<p>The standard error in a bottom-up beta will be significantly lower than the standard error in a single regression beta. Roughly speaking, the standard error of a bottom-upbeta estimate can be written as follows: <span class="math display">\[ \text{Std error of bottom-up beta} = \frac{\text{Average Std Error  across Betas}}{\sqrt{\text{Number of Firms in Sample}}}\]</span></p>
<p>The bottom-up beta can be adjusted to reflect changes in the firm's business mix and financial leverage. Regression betas reflect the past.</p>
<p>You can estimate bottom-up betas even when you do not have histocial stock prices. This is the case with initial public offerings, private businesses or divisions of companies.</p>
<h3 id="recap">Recap</h3>

<h2 id="discount-rates-iv-mopping-up">Discount Rates IV: Mopping up</h2>
<h3 id="estimating-the-cost-of-debt">Estimating the Cost of Debt</h3>
<p>The cost of debt is the rate at which the company can borrow at currently. It will reflect not only the default risk but also the level of interest rates in the market.</p>
<p>The two most widely used approaches to estimating cost of debt are:</p>
<ol type="1">
<li>Looking up the yield to maturity on a straight bond outstanding from the firm. The limitation of this approach is that very few firms have long term straight bonds that are liquid and widely traded.</li>
<li>Looking up the rating for the firm and estimating a default spread based upon the rating. While this approach is more robust, different bonds from the same firm can have different ratings. You have to use a median rating for the firm.</li>
</ol>
<p>When in trouble (either because you have no ratings or multiple ratings for a firm), estimate a synthetic rating for your firm and the cost of debt based upon that rating.</p>
<h3 id="estimating-synthetic-ratings">Estimating Synthetic Ratings</h3>
<p>The rating for a frim can be estimated using the financial characteristics of the firm. In its simplest form, the rating can be esttimated from the interest coverage ratio <span class="math display">\[ \text{Interest Coverage Ratio} = \frac{\text{EBIT}}{\text{Interest Expenses}} \]</span></p>
<h3 id="cost-of-debt-computations">Cost of Debt Computations</h3>
<p>Companies in countries with low bond ratings and high default risk might bear the burden of country defult risk, especially if they are smaller or have all of their revenues within the country.</p>
<p>Larger companies that derive a significant portion of their revenues in global markets may be less exposed to country default risk. In other words, they may be able to borrow at a rate lower than the government.</p>
<p>The synthetic rating for Embraer is A-. Using the 2004 default spread of 1.00%, we estimate a cost of debt of 9.29% (using a risk free rate of 4.29% and adding in two thirds of the country default spread of 6.01%):</p>
<p><span class="math display">\[\begin{align*}
    \text{Cost of debt} &amp;= \text{Risk free rate} + \frac{2}{3}(\text{Brazil country default spread}) + \text{Company default spread}
    &amp;=4.29\%+4.00\%+1.00\%
    &amp;=9.29\%
\end{align*}\]</span></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/27/Word-Wrap-Problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/27/Word-Wrap-Problem/" class="post-title-link" itemprop="url">Word Wrap Problem</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-27 12:10:32" itemprop="dateCreated datePublished" datetime="2019-02-27T12:10:32-05:00">2019-02-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-08 17:31:24" itemprop="dateModified" datetime="2019-03-08T17:31:24-05:00">2019-03-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/02/27/Word-Wrap-Problem/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/02/27/Word-Wrap-Problem/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="word-wrap-problem">Word Wrap Problem</h1>
<h2 id="example">Example</h2>
<h3 id="input-text">Input Text:</h3>
<p>"Why is it long?"</p>
<h3 id="restriction">Restriction:</h3>
<p>Each line is 6 characters long</p>
<h3 id="output">Output</h3>
<table>
<thead>
<tr class="header">
<th>W</th>
<th>h</th>
<th>y</th>
<th></th>
<th>i</th>
<th>s</th>
<th></th>
<th>W</th>
<th>h</th>
<th>y</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>i</td>
<td>t</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>i</td>
<td>s</td>
<td></td>
<td>i</td>
<td>t</td>
<td></td>
</tr>
<tr class="even">
<td>l</td>
<td>o</td>
<td>n</td>
<td>g</td>
<td>?</td>
<td></td>
<td></td>
<td>l</td>
<td>o</td>
<td>n</td>
<td>g</td>
<td>?</td>
<td></td>
</tr>
</tbody>
</table>
<p>The right one is nicer.</p>
<h2 id="what-is-nicer">What is "nicer"?</h2>
<h3 id="notation">Notation</h3>
<p><span class="math inline">\(e_i - \text{the number of spaces at the end of the i-th line}\)</span></p>
<table>
<thead>
<tr class="header">
<th>formula</th>
<th>1st</th>
<th>2nd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\sum e_i\)</span></td>
<td>5</td>
<td>5</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\sum e_i^2\)</span></td>
<td>17</td>
<td>11</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sum e_i^3\)</span></td>
<td>65</td>
<td>29</td>
</tr>
<tr class="even">
<td>max</td>
<td>4</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>The convention is to use <span class="math inline">\(\sum e_i^3\)</span>.</p>
<h2 id="problem">Problem</h2>
<h3 id="input">Input</h3>
<ul>
<li><code>w</code> - width of a line</li>
<li><code>A[1..n]</code> of words</li>
</ul>
<h3 id="output-1">Output</h3>
<p>an array of arrays of words, where each array fits into one line such that the penalty is the smallest</p>
<h3 id="example-1">Example</h3>
<h4 id="input-1">Input</h4>
<ul>
<li><code>w = 6</code></li>
<li><code>A = ["Why", "is", "it", "long?"]</code></li>
</ul>
<h4 id="output-2">Output</h4>
<p><code>[ ["Why"], ["is", "it"], ["long?"] ]</code></p>
<h2 id="solution">Solution</h2>
<h3 id="notation-1">Notation</h3>
<h4 id="ci">C(i)</h4>
<p>the minimum possible penalty for <code>A[1..i]</code> <code>C(0) = 0</code> We are interested in <code>C(n)</code>.</p>
<h4 id="feej-i">fee[j, i]</h4>
<p>The penalty for line <code>A[j]..A[i]</code> <span class="math inline">\(\begin{align*}  fee[j, i] &amp;= (w - \sum_{k=j}^{i} A[k] - (i-j))^3 \\  &amp;= \infty \text{  if the above is negative} \\ \end{align*}\)</span></p>
<p><code>C(i) = min(C(j-1) + fee[j, i])</code></p>
<h3 id="pseudocode">Pseudocode</h3>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function FindMinPenalty(w;;A[<span class="number">1.</span>.n])</span><br><span class="line">    C[<span class="number">0.</span>.n] filled <span class="keyword">with</span> inf</span><br><span class="line">    Compute fee[<span class="number">1.</span>.n][<span class="number">1.</span>.n]</span><br><span class="line">    C[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">1</span> to n</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">from</span> <span class="number">1</span> to i</span><br><span class="line">            C[i] = min(C[i], C[j<span class="number">-1</span>] + fee[j,i])</span><br><span class="line">    <span class="keyword">return</span> C[n]</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function ComputeFee():</span><br><span class="line">    fee[<span class="number">1.</span>.n][<span class="number">1.</span>.n] filled <span class="keyword">with</span> inf</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">1</span> to n</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">from</span> <span class="number">1</span> to i</span><br><span class="line">            spaces = w</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">from</span> j to i</span><br><span class="line">                spaces -= A[k]</span><br><span class="line">            spaces -= (i-j)</span><br><span class="line">            <span class="keyword">if</span> spaces &gt;= <span class="number">0</span></span><br><span class="line">                fee[j, i] = spaces^<span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> fee</span><br></pre></td></tr></table></figure>
<p>We see the complexity of the above is too much. <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function ComputeFee():</span><br><span class="line">    spaces[<span class="number">1.</span>.n][<span class="number">1.</span>.n] filled <span class="keyword">with</span> inf</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">1</span> to n</span><br><span class="line">        spaces[i, i] = w - |A[i]|</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">from</span> i<span class="number">-1</span> to <span class="number">1</span></span><br><span class="line">            spaces[j, i] = spaces[j+<span class="number">1</span>, i] - |A[j]| - <span class="number">1</span></span><br><span class="line">            fee[j, i] = spaces[j, i]^<span class="number">3</span> <span class="keyword">if</span> spaces[j ,i] &gt; <span class="number">0</span> <span class="keyword">else</span> inf</span><br><span class="line">    <span class="keyword">return</span> fee</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/25/Largest-Common-Subsequence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/25/Largest-Common-Subsequence/" class="post-title-link" itemprop="url">Largest Common Subsequence</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-25 20:40:51" itemprop="dateCreated datePublished" datetime="2019-02-25T20:40:51-05:00">2019-02-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-08 17:32:16" itemprop="dateModified" datetime="2019-03-08T17:32:16-05:00">2019-03-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Basic-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Basic Algorithms</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/02/25/Largest-Common-Subsequence/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/02/25/Largest-Common-Subsequence/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="largest-common-subsequence">Largest Common Subsequence</h1>
<h2 id="definition">Definition</h2>
<p>A subsequence of a string <code>x</code> is a set of characters appearing left-to-right in <code>x</code> but not necessarily consecutively.</p>
<h2 id="example">Example</h2>
<table>
<thead>
<tr class="header">
<th><code>x</code></th>
<th><code>ABBCABAC</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>are</td>
<td><code>A</code> <code>ABB</code> <code>CAC</code></td>
</tr>
<tr class="even">
<td>are not</td>
<td><code>BBBB</code></td>
</tr>
</tbody>
</table>
<h2 id="naive-algorithm">Naive algorithm</h2>
<ol type="1">
<li>Generate all possible subsequences of <code>x</code></li>
<li>Check each one against <code>y</code></li>
</ol>
<h3 id="simplification">Simplification</h3>
<ol type="1">
<li>Find <code>len(LCS(x,y))</code></li>
<li>Extend to find <code>LCS</code></li>
</ol>
<h3 id="notation">Notation</h3>
<p><span class="math inline">\(C[i, j] = len(LCS(x[1..i], y[1..j]))\)</span><br>
<span class="math inline">\(m = len(x), n = len(y)\)</span><br>
<span class="math inline">\(C[m, n] = len(LCS(x, y))\)</span></p>
<h2 id="recurrence-relation">Recurrence relation</h2>
<p><span class="math inline">\(\begin{align*}  C[i, j] &amp;= C[i-1, j-1] + 1, \text{if } x[i] = y[j] \\  &amp;=max(C[i-1, j], C[i, j-1]), \text{otherwise} \\ \end{align*}\)</span></p>
<h2 id="dynamic-programming">Dynamic Programming</h2>
<p>Hallmark 1: optimal substructure<br>
Hallmark 2: overlapping substructure</p>
<p>How many subproblems in total? <code>mn</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Initialize array C[<span class="number">0.</span>.m, <span class="number">0.</span>.n] to NULL</span><br><span class="line">LCS(x, y, i, j, C):</span><br><span class="line">    <span class="keyword">if</span> C[i, j] <span class="keyword">is</span> NULL:</span><br><span class="line">        <span class="keyword">if</span> i ==<span class="number">0</span> <span class="keyword">or</span> j == <span class="number">0</span>:</span><br><span class="line">            C[i, j] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>: </span><br><span class="line">            <span class="keyword">if</span> x[i] == y[j]:</span><br><span class="line">                C[i, j] = LCS(x, y, i<span class="number">-1</span>, j<span class="number">-1</span>, C) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                C[i, j] = max(LCS(x, y, i<span class="number">-1</span>, j, C), LCS(x, y, i, j<span class="number">-1</span>, C))</span><br><span class="line">    <span class="keyword">return</span> C[i, j]</span><br></pre></td></tr></table></figure>
<p>Complexity = constant per subproblem <span class="math inline">\(\times\)</span> #subproblems= O(mn)</p>
<p>This can also be done iteratively. <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Initialize array C[<span class="number">0.</span>.m, <span class="number">0.</span>.n] to NULL</span><br><span class="line">LCS(x, y, i, j, C):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">0</span> to m:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">from</span> <span class="number">0</span> to n:</span><br><span class="line">            <span class="keyword">if</span> i ==<span class="number">0</span> <span class="keyword">or</span> j == <span class="number">0</span>:</span><br><span class="line">                C[i, j] = <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                <span class="keyword">if</span> x[i] == y[j]:</span><br><span class="line">                    C[i, j] = LCS(x, y, i<span class="number">-1</span>, j<span class="number">-1</span>, C) + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    C[i, j] = max(LCS(x, y, i<span class="number">-1</span>, j, C), LCS(x, y, i, j<span class="number">-1</span>, C))</span><br><span class="line">    <span class="keyword">return</span> C[i, j]</span><br></pre></td></tr></table></figure></p>
<p>Then we can construct a table and trace it back to get the LCS.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">A</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">D</th>
<th style="text-align: center;">D</th>
<th style="text-align: center;">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">D</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">B</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">backtrack(C, x, y, i, j):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> j == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    <span class="keyword">if</span> x[i] == y[j]:</span><br><span class="line">        <span class="keyword">return</span> backtrack(C, x, y, i<span class="number">-1</span>, j<span class="number">-1</span>) + x[i]</span><br><span class="line">    <span class="keyword">if</span> C[i<span class="number">-1</span>, j] &gt; C[i, j<span class="number">-1</span>]:</span><br><span class="line">        <span class="keyword">return</span> backtrack(C, x, y, i<span class="number">-1</span>, j)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> backtrack(C, x, y, i, j<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/19/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Anpu Li">
      <meta itemprop="description" content="Thoughts, Works, and Collection">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Anpu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/19/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-19 18:07:37" itemprop="dateCreated datePublished" datetime="2019-02-19T18:07:37-05:00">2019-02-19</time>
            

            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2019/02/19/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/02/19/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Anpu Li">
            
              <p class="site-author-name" itemprop="name">Anpu Li</p>
              <p class="site-description motion-element" itemprop="description">Thoughts, Works, and Collection</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
              
            </div></nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ANPULI" title="GitHub &rarr; https://github.com/ANPULI" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:anpu.li@nyu.edu" title="E-Mail &rarr; mailto:anpu.li@nyu.edu" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          
        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anpu Li</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>





  <script>
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=66179549";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>





        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>




  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  
  <script id="dsq-count-scr" src="https://anpuli.disqus.com/count.js" async></script>







  




  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: "AMS"
      }
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
      for (i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<style>
.MathJax_Display {
  overflow: auto hidden;
}
</style>

    
  


  

  

  

  

  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":0.5,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-100},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
